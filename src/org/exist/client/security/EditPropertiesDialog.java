begin_unit|revision:1.0.0;language:Java;cregit-version:0.0.1
begin_comment
comment|/*  *  eXist Open Source Native XML Database  *  Copyright (C) 2001-2012 The eXist Project  *  http://exist-db.org  *  *  This program is free software; you can redistribute it and/or  *  modify it under the terms of the GNU Lesser General Public License  *  as published by the Free Software Foundation; either version 2  *  of the License, or (at your option) any later version.  *  *  This program is distributed in the hope that it will be useful,  *  but WITHOUT ANY WARRANTY; without even the implied warranty of  *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the  *  GNU Lesser General Public License for more details.  *  *  You should have received a copy of the GNU Lesser General Public  *  License along with this library; if not, write to the Free Software  *  Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA  *  *  $Id$  */
end_comment

begin_package
package|package
name|org
operator|.
name|exist
operator|.
name|client
operator|.
name|security
package|;
end_package

begin_import
import|import
name|java
operator|.
name|text
operator|.
name|DateFormat
import|;
end_import

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|ArrayList
import|;
end_import

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|Arrays
import|;
end_import

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|Date
import|;
end_import

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|HashSet
import|;
end_import

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|List
import|;
end_import

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|Set
import|;
end_import

begin_import
import|import
name|javax
operator|.
name|swing
operator|.
name|JOptionPane
import|;
end_import

begin_import
import|import
name|javax
operator|.
name|swing
operator|.
name|table
operator|.
name|DefaultTableModel
import|;
end_import

begin_import
import|import
name|org
operator|.
name|exist
operator|.
name|client
operator|.
name|ResourceDescriptor
import|;
end_import

begin_import
import|import
name|org
operator|.
name|exist
operator|.
name|security
operator|.
name|ACLPermission
import|;
end_import

begin_import
import|import
name|org
operator|.
name|exist
operator|.
name|security
operator|.
name|ACLPermission
operator|.
name|ACE_ACCESS_TYPE
import|;
end_import

begin_import
import|import
name|org
operator|.
name|exist
operator|.
name|security
operator|.
name|ACLPermission
operator|.
name|ACE_TARGET
import|;
end_import

begin_import
import|import
name|org
operator|.
name|exist
operator|.
name|security
operator|.
name|Permission
import|;
end_import

begin_import
import|import
name|org
operator|.
name|exist
operator|.
name|security
operator|.
name|SecurityManager
import|;
end_import

begin_import
import|import
name|org
operator|.
name|exist
operator|.
name|security
operator|.
name|internal
operator|.
name|aider
operator|.
name|ACEAider
import|;
end_import

begin_import
import|import
name|org
operator|.
name|exist
operator|.
name|security
operator|.
name|internal
operator|.
name|aider
operator|.
name|PermissionAider
import|;
end_import

begin_import
import|import
name|org
operator|.
name|exist
operator|.
name|xmldb
operator|.
name|UserManagementService
import|;
end_import

begin_import
import|import
name|org
operator|.
name|exist
operator|.
name|xmldb
operator|.
name|XmldbURI
import|;
end_import

begin_import
import|import
name|org
operator|.
name|exist
operator|.
name|xquery
operator|.
name|util
operator|.
name|URIUtils
import|;
end_import

begin_import
import|import
name|org
operator|.
name|xmldb
operator|.
name|api
operator|.
name|base
operator|.
name|Collection
import|;
end_import

begin_import
import|import
name|org
operator|.
name|xmldb
operator|.
name|api
operator|.
name|base
operator|.
name|Resource
import|;
end_import

begin_import
import|import
name|org
operator|.
name|xmldb
operator|.
name|api
operator|.
name|base
operator|.
name|XMLDBException
import|;
end_import

begin_comment
comment|/**  *  * @author Adam Retter<adam.retter@googlemail.com>  */
end_comment

begin_class
specifier|public
class|class
name|EditPropertiesDialog
extends|extends
name|javax
operator|.
name|swing
operator|.
name|JFrame
block|{
specifier|private
specifier|final
name|UserManagementService
name|userManagementService
decl_stmt|;
specifier|private
specifier|final
name|String
name|currentUser
decl_stmt|;
specifier|private
specifier|final
name|Collection
name|parent
decl_stmt|;
specifier|private
specifier|final
name|XmldbURI
name|uri
decl_stmt|;
specifier|private
specifier|final
name|String
name|internetMediaType
decl_stmt|;
specifier|private
specifier|final
name|Date
name|created
decl_stmt|;
specifier|private
specifier|final
name|Date
name|lastModified
decl_stmt|;
specifier|private
specifier|final
name|PermissionAider
name|permission
decl_stmt|;
specifier|private
specifier|final
name|List
argument_list|<
name|ResourceDescriptor
argument_list|>
name|applyTo
decl_stmt|;
specifier|private
name|DefaultTableModel
name|basicPermissionsTableModel
init|=
literal|null
decl_stmt|;
specifier|private
name|DefaultTableModel
name|aclTableModel
init|=
literal|null
decl_stmt|;
specifier|private
specifier|final
specifier|static
name|String
name|ERROR_TITLE
init|=
literal|"Edit Properties Error"
decl_stmt|;
comment|/**      * Creates new form PropertiesDialog      */
specifier|public
name|EditPropertiesDialog
parameter_list|(
specifier|final
name|UserManagementService
name|userManagementService
parameter_list|,
specifier|final
name|String
name|currentUser
parameter_list|,
specifier|final
name|Collection
name|parent
parameter_list|,
specifier|final
name|XmldbURI
name|uri
parameter_list|,
specifier|final
name|String
name|internetMediaType
parameter_list|,
specifier|final
name|Date
name|created
parameter_list|,
specifier|final
name|Date
name|lastModified
parameter_list|,
specifier|final
name|PermissionAider
name|permission
parameter_list|,
specifier|final
name|List
argument_list|<
name|ResourceDescriptor
argument_list|>
name|applyTo
parameter_list|)
block|{
name|this
operator|.
name|userManagementService
operator|=
name|userManagementService
expr_stmt|;
name|this
operator|.
name|currentUser
operator|=
name|currentUser
expr_stmt|;
name|this
operator|.
name|parent
operator|=
name|parent
expr_stmt|;
name|this
operator|.
name|uri
operator|=
name|uri
expr_stmt|;
name|this
operator|.
name|internetMediaType
operator|=
name|internetMediaType
expr_stmt|;
name|this
operator|.
name|created
operator|=
name|created
expr_stmt|;
name|this
operator|.
name|lastModified
operator|=
name|lastModified
expr_stmt|;
name|this
operator|.
name|permission
operator|=
name|permission
expr_stmt|;
name|this
operator|.
name|applyTo
operator|=
name|applyTo
expr_stmt|;
name|initComponents
argument_list|()
expr_stmt|;
name|setFormProperties
argument_list|()
expr_stmt|;
block|}
specifier|private
name|void
name|setFormProperties
parameter_list|()
block|{
name|lblResourceValue
operator|.
name|setText
argument_list|(
name|URIUtils
operator|.
name|urlDecodeUtf8
argument_list|(
name|uri
argument_list|)
argument_list|)
expr_stmt|;
name|lblInternetMediaTypeValue
operator|.
name|setText
argument_list|(
name|internetMediaType
operator|!=
literal|null
condition|?
name|internetMediaType
else|:
literal|"N/A"
argument_list|)
expr_stmt|;
name|lblCreatedValue
operator|.
name|setText
argument_list|(
name|DateFormat
operator|.
name|getDateTimeInstance
argument_list|()
operator|.
name|format
argument_list|(
name|created
argument_list|)
argument_list|)
expr_stmt|;
name|lblLastModifiedValue
operator|.
name|setText
argument_list|(
name|lastModified
operator|!=
literal|null
condition|?
name|DateFormat
operator|.
name|getDateTimeInstance
argument_list|()
operator|.
name|format
argument_list|(
name|lastModified
argument_list|)
else|:
literal|"N/A"
argument_list|)
expr_stmt|;
name|lblOwnerValue
operator|.
name|setText
argument_list|(
name|permission
operator|.
name|getOwner
argument_list|()
operator|.
name|getName
argument_list|()
argument_list|)
expr_stmt|;
comment|//final Point pntLblOwnerValue = lblOwnerValue.getLocation();
comment|//btnChangeOwner.setLocation(pntLblOwnerValue.x + (lblOwnerValue.getText().length() * 4), pntLblOwnerValue.y);
name|lblGroupValue
operator|.
name|setText
argument_list|(
name|permission
operator|.
name|getGroup
argument_list|()
operator|.
name|getName
argument_list|()
argument_list|)
expr_stmt|;
comment|//final Point pntLblGroupValue = lblGroupValue.getLocation();
comment|//btnChangeGroup.setLocation(pntLblGroupValue.x + (lblGroupValue.getText().length() * 4), pntLblGroupValue.y);
try|try
block|{
specifier|final
name|boolean
name|canModify
init|=
name|canModifyPermissions
argument_list|()
decl_stmt|;
name|btnChangeOwner
operator|.
name|setEnabled
argument_list|(
name|isDba
argument_list|()
argument_list|)
expr_stmt|;
name|btnChangeGroup
operator|.
name|setEnabled
argument_list|(
name|isDba
argument_list|()
argument_list|)
expr_stmt|;
name|tblBasePermissions
operator|.
name|setEnabled
argument_list|(
name|canModify
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
operator|(
name|permission
operator|instanceof
name|ACLPermission
operator|)
condition|)
block|{
name|tblAcl
operator|.
name|setEnabled
argument_list|(
literal|false
argument_list|)
expr_stmt|;
block|}
else|else
block|{
name|tblAcl
operator|.
name|setEnabled
argument_list|(
name|canModify
argument_list|)
expr_stmt|;
block|}
name|miInsertAceBefore
operator|.
name|setEnabled
argument_list|(
name|canModify
argument_list|)
expr_stmt|;
name|miInsertAceAfter
operator|.
name|setEnabled
argument_list|(
name|canModify
argument_list|)
expr_stmt|;
name|btnAddAce
operator|.
name|setEnabled
argument_list|(
name|canModify
argument_list|)
expr_stmt|;
name|miMoveUp
operator|.
name|setEnabled
argument_list|(
literal|false
argument_list|)
expr_stmt|;
name|miMoveDown
operator|.
name|setEnabled
argument_list|(
literal|false
argument_list|)
expr_stmt|;
name|miRemoveAce
operator|.
name|setEnabled
argument_list|(
literal|false
argument_list|)
expr_stmt|;
block|}
catch|catch
parameter_list|(
specifier|final
name|XMLDBException
name|xmldbe
parameter_list|)
block|{
name|JOptionPane
operator|.
name|showMessageDialog
argument_list|(
name|this
argument_list|,
literal|"Could not get dba group members: "
operator|+
name|xmldbe
operator|.
name|getMessage
argument_list|()
argument_list|,
name|ERROR_TITLE
argument_list|,
name|JOptionPane
operator|.
name|ERROR_MESSAGE
argument_list|)
expr_stmt|;
block|}
block|}
specifier|private
name|DefaultTableModel
name|getBasicPermissionsTableModel
parameter_list|()
block|{
if|if
condition|(
name|basicPermissionsTableModel
operator|==
literal|null
condition|)
block|{
specifier|final
name|Object
index|[]
index|[]
name|basicPermissions
init|=
operator|new
name|Object
index|[]
index|[]
block|{
block|{
literal|"Read"
block|,
operator|(
name|permission
operator|.
name|getOwnerMode
argument_list|()
operator|&
name|Permission
operator|.
name|READ
operator|)
operator|==
name|Permission
operator|.
name|READ
block|,
operator|(
name|permission
operator|.
name|getGroupMode
argument_list|()
operator|&
name|Permission
operator|.
name|READ
operator|)
operator|==
name|Permission
operator|.
name|READ
block|,
operator|(
name|permission
operator|.
name|getOtherMode
argument_list|()
operator|&
name|Permission
operator|.
name|READ
operator|)
operator|==
name|Permission
operator|.
name|READ
block|}
block|,
block|{
literal|"Write"
block|,
operator|(
name|permission
operator|.
name|getOwnerMode
argument_list|()
operator|&
name|Permission
operator|.
name|WRITE
operator|)
operator|==
name|Permission
operator|.
name|WRITE
block|,
operator|(
name|permission
operator|.
name|getGroupMode
argument_list|()
operator|&
name|Permission
operator|.
name|WRITE
operator|)
operator|==
name|Permission
operator|.
name|WRITE
block|,
operator|(
name|permission
operator|.
name|getOtherMode
argument_list|()
operator|&
name|Permission
operator|.
name|WRITE
operator|)
operator|==
name|Permission
operator|.
name|WRITE
block|}
block|,
block|{
literal|"Execute"
block|,
operator|(
name|permission
operator|.
name|getOwnerMode
argument_list|()
operator|&
name|Permission
operator|.
name|EXECUTE
operator|)
operator|==
name|Permission
operator|.
name|EXECUTE
block|,
operator|(
name|permission
operator|.
name|getGroupMode
argument_list|()
operator|&
name|Permission
operator|.
name|EXECUTE
operator|)
operator|==
name|Permission
operator|.
name|EXECUTE
block|,
operator|(
name|permission
operator|.
name|getOtherMode
argument_list|()
operator|&
name|Permission
operator|.
name|EXECUTE
operator|)
operator|==
name|Permission
operator|.
name|EXECUTE
block|}
block|}
decl_stmt|;
name|basicPermissionsTableModel
operator|=
operator|new
name|javax
operator|.
name|swing
operator|.
name|table
operator|.
name|DefaultTableModel
argument_list|(
name|basicPermissions
argument_list|,
operator|new
name|String
index|[]
block|{
literal|"Permission"
block|,
literal|"User"
block|,
literal|"Group"
block|,
literal|"Other"
block|}
argument_list|)
block|{
specifier|final
name|Class
index|[]
name|types
init|=
operator|new
name|Class
index|[]
block|{
name|java
operator|.
name|lang
operator|.
name|String
operator|.
name|class
block|,
name|java
operator|.
name|lang
operator|.
name|Boolean
operator|.
name|class
block|,
name|java
operator|.
name|lang
operator|.
name|Boolean
operator|.
name|class
block|,
name|java
operator|.
name|lang
operator|.
name|Boolean
operator|.
name|class
block|}
decl_stmt|;
name|boolean
index|[]
name|canEdit
init|=
operator|new
name|boolean
index|[]
block|{
literal|false
block|,
literal|true
block|,
literal|true
block|,
literal|true
block|}
decl_stmt|;
annotation|@
name|Override
specifier|public
name|Class
name|getColumnClass
parameter_list|(
name|int
name|columnIndex
parameter_list|)
block|{
return|return
name|types
index|[
name|columnIndex
index|]
return|;
block|}
annotation|@
name|Override
specifier|public
name|boolean
name|isCellEditable
parameter_list|(
name|int
name|rowIndex
parameter_list|,
name|int
name|columnIndex
parameter_list|)
block|{
return|return
name|canEdit
index|[
name|columnIndex
index|]
return|;
block|}
block|}
expr_stmt|;
block|}
return|return
name|basicPermissionsTableModel
return|;
block|}
specifier|private
name|DefaultTableModel
name|getAclTableModel
parameter_list|()
block|{
if|if
condition|(
name|aclTableModel
operator|==
literal|null
condition|)
block|{
specifier|final
name|Object
index|[]
index|[]
name|aces
decl_stmt|;
if|if
condition|(
name|permission
operator|instanceof
name|ACLPermission
condition|)
block|{
specifier|final
name|ACLPermission
name|aclPermission
init|=
operator|(
name|ACLPermission
operator|)
name|permission
decl_stmt|;
name|aces
operator|=
operator|new
name|Object
index|[
name|aclPermission
operator|.
name|getACECount
argument_list|()
index|]
index|[
literal|6
index|]
expr_stmt|;
for|for
control|(
name|int
name|i
init|=
literal|0
init|;
name|i
operator|<
name|aclPermission
operator|.
name|getACECount
argument_list|()
condition|;
name|i
operator|++
control|)
block|{
name|aces
index|[
name|i
index|]
operator|=
operator|new
name|Object
index|[]
block|{
name|aclPermission
operator|.
name|getACETarget
argument_list|(
name|i
argument_list|)
operator|.
name|toString
argument_list|()
block|,
name|aclPermission
operator|.
name|getACEWho
argument_list|(
name|i
argument_list|)
block|,
name|aclPermission
operator|.
name|getACEAccessType
argument_list|(
name|i
argument_list|)
operator|.
name|toString
argument_list|()
block|,
operator|(
name|aclPermission
operator|.
name|getACEMode
argument_list|(
name|i
argument_list|)
operator|&
name|Permission
operator|.
name|READ
operator|)
operator|==
name|Permission
operator|.
name|READ
block|,
operator|(
name|aclPermission
operator|.
name|getACEMode
argument_list|(
name|i
argument_list|)
operator|&
name|Permission
operator|.
name|WRITE
operator|)
operator|==
name|Permission
operator|.
name|WRITE
block|,
operator|(
name|aclPermission
operator|.
name|getACEMode
argument_list|(
name|i
argument_list|)
operator|&
name|Permission
operator|.
name|EXECUTE
operator|)
operator|==
name|Permission
operator|.
name|EXECUTE
block|,                     }
expr_stmt|;
block|}
block|}
else|else
block|{
name|aces
operator|=
operator|new
name|Object
index|[
literal|0
index|]
index|[
literal|6
index|]
expr_stmt|;
block|}
name|aclTableModel
operator|=
operator|new
name|javax
operator|.
name|swing
operator|.
name|table
operator|.
name|DefaultTableModel
argument_list|(
name|aces
argument_list|,
operator|new
name|String
index|[]
block|{
literal|"Target"
block|,
literal|"Subject"
block|,
literal|"Access"
block|,
literal|"Read"
block|,
literal|"Write"
block|,
literal|"Execute"
block|}
argument_list|)
block|{
specifier|final
name|Class
index|[]
name|types
init|=
operator|new
name|Class
index|[]
block|{
name|java
operator|.
name|lang
operator|.
name|String
operator|.
name|class
block|,
name|java
operator|.
name|lang
operator|.
name|String
operator|.
name|class
block|,
name|java
operator|.
name|lang
operator|.
name|String
operator|.
name|class
block|,
name|java
operator|.
name|lang
operator|.
name|Boolean
operator|.
name|class
block|,
name|java
operator|.
name|lang
operator|.
name|Boolean
operator|.
name|class
block|,
name|java
operator|.
name|lang
operator|.
name|Boolean
operator|.
name|class
block|}
decl_stmt|;
name|boolean
index|[]
name|canEdit
init|=
operator|new
name|boolean
index|[]
block|{
literal|false
block|,
literal|false
block|,
literal|false
block|,
literal|true
block|,
literal|true
block|,
literal|true
block|}
decl_stmt|;
annotation|@
name|Override
specifier|public
name|Class
name|getColumnClass
parameter_list|(
name|int
name|columnIndex
parameter_list|)
block|{
return|return
name|types
index|[
name|columnIndex
index|]
return|;
block|}
annotation|@
name|Override
specifier|public
name|boolean
name|isCellEditable
parameter_list|(
name|int
name|rowIndex
parameter_list|,
name|int
name|columnIndex
parameter_list|)
block|{
return|return
name|canEdit
index|[
name|columnIndex
index|]
return|;
block|}
block|}
expr_stmt|;
block|}
return|return
name|aclTableModel
return|;
block|}
specifier|private
name|int
name|getBasicMode
parameter_list|()
block|{
name|int
name|mode
init|=
literal|0
decl_stmt|;
name|int
name|right
init|=
name|Permission
operator|.
name|READ
decl_stmt|;
for|for
control|(
name|int
name|i
init|=
literal|0
init|;
name|i
operator|<
name|getBasicPermissionsTableModel
argument_list|()
operator|.
name|getRowCount
argument_list|()
condition|;
name|i
operator|++
control|)
block|{
if|if
condition|(
operator|(
name|Boolean
operator|)
name|getBasicPermissionsTableModel
argument_list|()
operator|.
name|getValueAt
argument_list|(
name|i
argument_list|,
literal|1
argument_list|)
condition|)
block|{
name|mode
operator||=
operator|(
name|right
operator|<<
literal|6
operator|)
expr_stmt|;
block|}
if|if
condition|(
operator|(
name|Boolean
operator|)
name|getBasicPermissionsTableModel
argument_list|()
operator|.
name|getValueAt
argument_list|(
name|i
argument_list|,
literal|2
argument_list|)
condition|)
block|{
name|mode
operator||=
operator|(
name|right
operator|<<
literal|3
operator|)
expr_stmt|;
block|}
if|if
condition|(
operator|(
name|Boolean
operator|)
name|getBasicPermissionsTableModel
argument_list|()
operator|.
name|getValueAt
argument_list|(
name|i
argument_list|,
literal|3
argument_list|)
condition|)
block|{
name|mode
operator||=
name|right
expr_stmt|;
block|}
name|right
operator|=
name|right
operator|/
literal|2
expr_stmt|;
block|}
return|return
name|mode
return|;
block|}
specifier|private
name|UserManagementService
name|getUserManagementService
parameter_list|()
block|{
return|return
name|userManagementService
return|;
block|}
comment|/**      * This method is called from within the constructor to initialize the form.      * WARNING: Do NOT modify this code. The content of this method is always      * regenerated by the Form Editor.      */
annotation|@
name|SuppressWarnings
argument_list|(
literal|"unchecked"
argument_list|)
comment|//<editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
specifier|private
name|void
name|initComponents
parameter_list|()
block|{
name|jScrollPane1
operator|=
operator|new
name|javax
operator|.
name|swing
operator|.
name|JScrollPane
argument_list|()
expr_stmt|;
name|jTable1
operator|=
operator|new
name|javax
operator|.
name|swing
operator|.
name|JTable
argument_list|()
expr_stmt|;
name|pmAcl
operator|=
operator|new
name|javax
operator|.
name|swing
operator|.
name|JPopupMenu
argument_list|()
expr_stmt|;
name|miInsertAceBefore
operator|=
operator|new
name|javax
operator|.
name|swing
operator|.
name|JMenuItem
argument_list|()
expr_stmt|;
name|miInsertAceAfter
operator|=
operator|new
name|javax
operator|.
name|swing
operator|.
name|JMenuItem
argument_list|()
expr_stmt|;
name|jSeparator3
operator|=
operator|new
name|javax
operator|.
name|swing
operator|.
name|JPopupMenu
operator|.
name|Separator
argument_list|()
expr_stmt|;
name|miMoveUp
operator|=
operator|new
name|javax
operator|.
name|swing
operator|.
name|JMenuItem
argument_list|()
expr_stmt|;
name|miMoveDown
operator|=
operator|new
name|javax
operator|.
name|swing
operator|.
name|JMenuItem
argument_list|()
expr_stmt|;
name|jSeparator4
operator|=
operator|new
name|javax
operator|.
name|swing
operator|.
name|JPopupMenu
operator|.
name|Separator
argument_list|()
expr_stmt|;
name|miRemoveAce
operator|=
operator|new
name|javax
operator|.
name|swing
operator|.
name|JMenuItem
argument_list|()
expr_stmt|;
name|lblResource
operator|=
operator|new
name|javax
operator|.
name|swing
operator|.
name|JLabel
argument_list|()
expr_stmt|;
name|lblInternetMediaType
operator|=
operator|new
name|javax
operator|.
name|swing
operator|.
name|JLabel
argument_list|()
expr_stmt|;
name|lblCreated
operator|=
operator|new
name|javax
operator|.
name|swing
operator|.
name|JLabel
argument_list|()
expr_stmt|;
name|lblLastModified
operator|=
operator|new
name|javax
operator|.
name|swing
operator|.
name|JLabel
argument_list|()
expr_stmt|;
name|lblOwner
operator|=
operator|new
name|javax
operator|.
name|swing
operator|.
name|JLabel
argument_list|()
expr_stmt|;
name|lblGroup
operator|=
operator|new
name|javax
operator|.
name|swing
operator|.
name|JLabel
argument_list|()
expr_stmt|;
name|lblResourceValue
operator|=
operator|new
name|javax
operator|.
name|swing
operator|.
name|JLabel
argument_list|()
expr_stmt|;
name|lblInternetMediaTypeValue
operator|=
operator|new
name|javax
operator|.
name|swing
operator|.
name|JLabel
argument_list|()
expr_stmt|;
name|lblCreatedValue
operator|=
operator|new
name|javax
operator|.
name|swing
operator|.
name|JLabel
argument_list|()
expr_stmt|;
name|lblLastModifiedValue
operator|=
operator|new
name|javax
operator|.
name|swing
operator|.
name|JLabel
argument_list|()
expr_stmt|;
name|lblOwnerValue
operator|=
operator|new
name|javax
operator|.
name|swing
operator|.
name|JLabel
argument_list|()
expr_stmt|;
name|lblGroupValue
operator|=
operator|new
name|javax
operator|.
name|swing
operator|.
name|JLabel
argument_list|()
expr_stmt|;
name|btnChangeOwner
operator|=
operator|new
name|javax
operator|.
name|swing
operator|.
name|JButton
argument_list|()
expr_stmt|;
name|btnChangeGroup
operator|=
operator|new
name|javax
operator|.
name|swing
operator|.
name|JButton
argument_list|()
expr_stmt|;
name|jScrollPane2
operator|=
operator|new
name|javax
operator|.
name|swing
operator|.
name|JScrollPane
argument_list|()
expr_stmt|;
name|tblBasePermissions
operator|=
operator|new
name|javax
operator|.
name|swing
operator|.
name|JTable
argument_list|()
expr_stmt|;
name|lblAccessControlList
operator|=
operator|new
name|javax
operator|.
name|swing
operator|.
name|JLabel
argument_list|()
expr_stmt|;
name|jSeparator1
operator|=
operator|new
name|javax
operator|.
name|swing
operator|.
name|JSeparator
argument_list|()
expr_stmt|;
name|lblBasePermissions
operator|=
operator|new
name|javax
operator|.
name|swing
operator|.
name|JLabel
argument_list|()
expr_stmt|;
name|jScrollPane3
operator|=
operator|new
name|javax
operator|.
name|swing
operator|.
name|JScrollPane
argument_list|()
expr_stmt|;
name|tblAcl
operator|=
operator|new
name|javax
operator|.
name|swing
operator|.
name|JTable
argument_list|()
expr_stmt|;
name|jSeparator2
operator|=
operator|new
name|javax
operator|.
name|swing
operator|.
name|JSeparator
argument_list|()
expr_stmt|;
name|btnSave
operator|=
operator|new
name|javax
operator|.
name|swing
operator|.
name|JButton
argument_list|()
expr_stmt|;
name|btnClose
operator|=
operator|new
name|javax
operator|.
name|swing
operator|.
name|JButton
argument_list|()
expr_stmt|;
name|btnAddAce
operator|=
operator|new
name|javax
operator|.
name|swing
operator|.
name|JButton
argument_list|()
expr_stmt|;
name|jTable1
operator|.
name|setModel
argument_list|(
operator|new
name|javax
operator|.
name|swing
operator|.
name|table
operator|.
name|DefaultTableModel
argument_list|(
operator|new
name|Object
index|[]
index|[]
block|{
block|{
literal|null
block|,
literal|null
block|,
literal|null
block|,
literal|null
block|}
block|,
block|{
literal|null
block|,
literal|null
block|,
literal|null
block|,
literal|null
block|}
block|,
block|{
literal|null
block|,
literal|null
block|,
literal|null
block|,
literal|null
block|}
block|,
block|{
literal|null
block|,
literal|null
block|,
literal|null
block|,
literal|null
block|}
block|}
argument_list|,
operator|new
name|String
index|[]
block|{
literal|"Title 1"
block|,
literal|"Title 2"
block|,
literal|"Title 3"
block|,
literal|"Title 4"
block|}
argument_list|)
argument_list|)
expr_stmt|;
name|jScrollPane1
operator|.
name|setViewportView
argument_list|(
name|jTable1
argument_list|)
expr_stmt|;
name|miInsertAceBefore
operator|.
name|setText
argument_list|(
literal|"Insert ACE before..."
argument_list|)
expr_stmt|;
name|miInsertAceBefore
operator|.
name|addActionListener
argument_list|(
operator|new
name|java
operator|.
name|awt
operator|.
name|event
operator|.
name|ActionListener
argument_list|()
block|{
specifier|public
name|void
name|actionPerformed
parameter_list|(
name|java
operator|.
name|awt
operator|.
name|event
operator|.
name|ActionEvent
name|evt
parameter_list|)
block|{
name|miInsertAceBeforeActionPerformed
argument_list|(
name|evt
argument_list|)
expr_stmt|;
block|}
block|}
argument_list|)
expr_stmt|;
name|pmAcl
operator|.
name|add
argument_list|(
name|miInsertAceBefore
argument_list|)
expr_stmt|;
name|miInsertAceAfter
operator|.
name|setText
argument_list|(
literal|"Insert ACE after..."
argument_list|)
expr_stmt|;
name|miInsertAceAfter
operator|.
name|addActionListener
argument_list|(
operator|new
name|java
operator|.
name|awt
operator|.
name|event
operator|.
name|ActionListener
argument_list|()
block|{
specifier|public
name|void
name|actionPerformed
parameter_list|(
name|java
operator|.
name|awt
operator|.
name|event
operator|.
name|ActionEvent
name|evt
parameter_list|)
block|{
name|miInsertAceAfterActionPerformed
argument_list|(
name|evt
argument_list|)
expr_stmt|;
block|}
block|}
argument_list|)
expr_stmt|;
name|pmAcl
operator|.
name|add
argument_list|(
name|miInsertAceAfter
argument_list|)
expr_stmt|;
name|pmAcl
operator|.
name|add
argument_list|(
name|jSeparator3
argument_list|)
expr_stmt|;
name|miMoveUp
operator|.
name|setText
argument_list|(
literal|"Move ACE up"
argument_list|)
expr_stmt|;
name|miMoveUp
operator|.
name|addActionListener
argument_list|(
operator|new
name|java
operator|.
name|awt
operator|.
name|event
operator|.
name|ActionListener
argument_list|()
block|{
specifier|public
name|void
name|actionPerformed
parameter_list|(
name|java
operator|.
name|awt
operator|.
name|event
operator|.
name|ActionEvent
name|evt
parameter_list|)
block|{
name|miMoveUpActionPerformed
argument_list|(
name|evt
argument_list|)
expr_stmt|;
block|}
block|}
argument_list|)
expr_stmt|;
name|pmAcl
operator|.
name|add
argument_list|(
name|miMoveUp
argument_list|)
expr_stmt|;
name|miMoveDown
operator|.
name|setText
argument_list|(
literal|"Move ACE down"
argument_list|)
expr_stmt|;
name|miMoveDown
operator|.
name|addActionListener
argument_list|(
operator|new
name|java
operator|.
name|awt
operator|.
name|event
operator|.
name|ActionListener
argument_list|()
block|{
specifier|public
name|void
name|actionPerformed
parameter_list|(
name|java
operator|.
name|awt
operator|.
name|event
operator|.
name|ActionEvent
name|evt
parameter_list|)
block|{
name|miMoveDownActionPerformed
argument_list|(
name|evt
argument_list|)
expr_stmt|;
block|}
block|}
argument_list|)
expr_stmt|;
name|pmAcl
operator|.
name|add
argument_list|(
name|miMoveDown
argument_list|)
expr_stmt|;
name|pmAcl
operator|.
name|add
argument_list|(
name|jSeparator4
argument_list|)
expr_stmt|;
name|miRemoveAce
operator|.
name|setText
argument_list|(
literal|"Remove ACE"
argument_list|)
expr_stmt|;
name|miRemoveAce
operator|.
name|addActionListener
argument_list|(
operator|new
name|java
operator|.
name|awt
operator|.
name|event
operator|.
name|ActionListener
argument_list|()
block|{
specifier|public
name|void
name|actionPerformed
parameter_list|(
name|java
operator|.
name|awt
operator|.
name|event
operator|.
name|ActionEvent
name|evt
parameter_list|)
block|{
name|miRemoveAceActionPerformed
argument_list|(
name|evt
argument_list|)
expr_stmt|;
block|}
block|}
argument_list|)
expr_stmt|;
name|pmAcl
operator|.
name|add
argument_list|(
name|miRemoveAce
argument_list|)
expr_stmt|;
name|setDefaultCloseOperation
argument_list|(
name|javax
operator|.
name|swing
operator|.
name|WindowConstants
operator|.
name|DISPOSE_ON_CLOSE
argument_list|)
expr_stmt|;
name|setTitle
argument_list|(
literal|"Properties"
argument_list|)
expr_stmt|;
name|lblResource
operator|.
name|setText
argument_list|(
literal|"Resource:"
argument_list|)
expr_stmt|;
name|lblInternetMediaType
operator|.
name|setText
argument_list|(
literal|"Internet Media Type:"
argument_list|)
expr_stmt|;
name|lblCreated
operator|.
name|setText
argument_list|(
literal|"Created:"
argument_list|)
expr_stmt|;
name|lblLastModified
operator|.
name|setText
argument_list|(
literal|"Last Modified:"
argument_list|)
expr_stmt|;
name|lblOwner
operator|.
name|setText
argument_list|(
literal|"Owner:"
argument_list|)
expr_stmt|;
name|lblGroup
operator|.
name|setText
argument_list|(
literal|"Group:"
argument_list|)
expr_stmt|;
name|lblResourceValue
operator|.
name|setText
argument_list|(
literal|"<resource>"
argument_list|)
expr_stmt|;
name|lblInternetMediaTypeValue
operator|.
name|setText
argument_list|(
literal|"<internet media type>"
argument_list|)
expr_stmt|;
name|lblCreatedValue
operator|.
name|setText
argument_list|(
literal|"<created>"
argument_list|)
expr_stmt|;
name|lblLastModifiedValue
operator|.
name|setText
argument_list|(
literal|"<last modified>"
argument_list|)
expr_stmt|;
name|lblOwnerValue
operator|.
name|setText
argument_list|(
literal|"<owner>"
argument_list|)
expr_stmt|;
name|lblGroupValue
operator|.
name|setText
argument_list|(
literal|"<group>"
argument_list|)
expr_stmt|;
name|btnChangeOwner
operator|.
name|setText
argument_list|(
literal|"..."
argument_list|)
expr_stmt|;
name|btnChangeOwner
operator|.
name|addActionListener
argument_list|(
operator|new
name|java
operator|.
name|awt
operator|.
name|event
operator|.
name|ActionListener
argument_list|()
block|{
specifier|public
name|void
name|actionPerformed
parameter_list|(
name|java
operator|.
name|awt
operator|.
name|event
operator|.
name|ActionEvent
name|evt
parameter_list|)
block|{
name|btnChangeOwnerActionPerformed
argument_list|(
name|evt
argument_list|)
expr_stmt|;
block|}
block|}
argument_list|)
expr_stmt|;
name|btnChangeGroup
operator|.
name|setText
argument_list|(
literal|"..."
argument_list|)
expr_stmt|;
name|btnChangeGroup
operator|.
name|addActionListener
argument_list|(
operator|new
name|java
operator|.
name|awt
operator|.
name|event
operator|.
name|ActionListener
argument_list|()
block|{
specifier|public
name|void
name|actionPerformed
parameter_list|(
name|java
operator|.
name|awt
operator|.
name|event
operator|.
name|ActionEvent
name|evt
parameter_list|)
block|{
name|btnChangeGroupActionPerformed
argument_list|(
name|evt
argument_list|)
expr_stmt|;
block|}
block|}
argument_list|)
expr_stmt|;
name|tblBasePermissions
operator|.
name|setModel
argument_list|(
name|getBasicPermissionsTableModel
argument_list|()
argument_list|)
expr_stmt|;
name|tblBasePermissions
operator|.
name|setRowSelectionAllowed
argument_list|(
literal|false
argument_list|)
expr_stmt|;
name|jScrollPane2
operator|.
name|setViewportView
argument_list|(
name|tblBasePermissions
argument_list|)
expr_stmt|;
name|tblBasePermissions
operator|.
name|getColumnModel
argument_list|()
operator|.
name|getColumn
argument_list|(
literal|0
argument_list|)
operator|.
name|setResizable
argument_list|(
literal|false
argument_list|)
expr_stmt|;
name|lblAccessControlList
operator|.
name|setText
argument_list|(
literal|"Access Control List"
argument_list|)
expr_stmt|;
name|lblBasePermissions
operator|.
name|setText
argument_list|(
literal|"Base Permissions"
argument_list|)
expr_stmt|;
name|tblAcl
operator|.
name|setModel
argument_list|(
name|getAclTableModel
argument_list|()
argument_list|)
expr_stmt|;
name|tblAcl
operator|.
name|setComponentPopupMenu
argument_list|(
name|pmAcl
argument_list|)
expr_stmt|;
name|tblAcl
operator|.
name|addMouseListener
argument_list|(
operator|new
name|java
operator|.
name|awt
operator|.
name|event
operator|.
name|MouseAdapter
argument_list|()
block|{
specifier|public
name|void
name|mouseClicked
parameter_list|(
name|java
operator|.
name|awt
operator|.
name|event
operator|.
name|MouseEvent
name|evt
parameter_list|)
block|{
name|tblAclMouseClicked
argument_list|(
name|evt
argument_list|)
expr_stmt|;
block|}
block|}
argument_list|)
expr_stmt|;
name|jScrollPane3
operator|.
name|setViewportView
argument_list|(
name|tblAcl
argument_list|)
expr_stmt|;
name|btnSave
operator|.
name|setText
argument_list|(
literal|"Save"
argument_list|)
expr_stmt|;
name|btnSave
operator|.
name|addActionListener
argument_list|(
operator|new
name|java
operator|.
name|awt
operator|.
name|event
operator|.
name|ActionListener
argument_list|()
block|{
specifier|public
name|void
name|actionPerformed
parameter_list|(
name|java
operator|.
name|awt
operator|.
name|event
operator|.
name|ActionEvent
name|evt
parameter_list|)
block|{
name|btnSaveActionPerformed
argument_list|(
name|evt
argument_list|)
expr_stmt|;
block|}
block|}
argument_list|)
expr_stmt|;
name|btnClose
operator|.
name|setText
argument_list|(
literal|"Close"
argument_list|)
expr_stmt|;
name|btnClose
operator|.
name|addActionListener
argument_list|(
operator|new
name|java
operator|.
name|awt
operator|.
name|event
operator|.
name|ActionListener
argument_list|()
block|{
specifier|public
name|void
name|actionPerformed
parameter_list|(
name|java
operator|.
name|awt
operator|.
name|event
operator|.
name|ActionEvent
name|evt
parameter_list|)
block|{
name|btnCloseActionPerformed
argument_list|(
name|evt
argument_list|)
expr_stmt|;
block|}
block|}
argument_list|)
expr_stmt|;
name|btnAddAce
operator|.
name|setText
argument_list|(
literal|"Add Access Control Entry..."
argument_list|)
expr_stmt|;
name|btnAddAce
operator|.
name|addActionListener
argument_list|(
operator|new
name|java
operator|.
name|awt
operator|.
name|event
operator|.
name|ActionListener
argument_list|()
block|{
specifier|public
name|void
name|actionPerformed
parameter_list|(
name|java
operator|.
name|awt
operator|.
name|event
operator|.
name|ActionEvent
name|evt
parameter_list|)
block|{
name|btnAddAceActionPerformed
argument_list|(
name|evt
argument_list|)
expr_stmt|;
block|}
block|}
argument_list|)
expr_stmt|;
name|javax
operator|.
name|swing
operator|.
name|GroupLayout
name|layout
init|=
operator|new
name|javax
operator|.
name|swing
operator|.
name|GroupLayout
argument_list|(
name|getContentPane
argument_list|()
argument_list|)
decl_stmt|;
name|getContentPane
argument_list|()
operator|.
name|setLayout
argument_list|(
name|layout
argument_list|)
expr_stmt|;
name|layout
operator|.
name|setHorizontalGroup
argument_list|(
name|layout
operator|.
name|createParallelGroup
argument_list|(
name|javax
operator|.
name|swing
operator|.
name|GroupLayout
operator|.
name|Alignment
operator|.
name|LEADING
argument_list|)
operator|.
name|addGroup
argument_list|(
name|layout
operator|.
name|createSequentialGroup
argument_list|()
operator|.
name|addGroup
argument_list|(
name|layout
operator|.
name|createParallelGroup
argument_list|(
name|javax
operator|.
name|swing
operator|.
name|GroupLayout
operator|.
name|Alignment
operator|.
name|LEADING
argument_list|)
operator|.
name|addGroup
argument_list|(
name|layout
operator|.
name|createSequentialGroup
argument_list|()
operator|.
name|addContainerGap
argument_list|()
operator|.
name|addComponent
argument_list|(
name|jSeparator1
argument_list|)
argument_list|)
operator|.
name|addGroup
argument_list|(
name|layout
operator|.
name|createSequentialGroup
argument_list|()
operator|.
name|addGap
argument_list|(
literal|25
argument_list|,
literal|25
argument_list|,
literal|25
argument_list|)
operator|.
name|addGroup
argument_list|(
name|layout
operator|.
name|createParallelGroup
argument_list|(
name|javax
operator|.
name|swing
operator|.
name|GroupLayout
operator|.
name|Alignment
operator|.
name|LEADING
argument_list|)
operator|.
name|addComponent
argument_list|(
name|lblBasePermissions
argument_list|)
operator|.
name|addComponent
argument_list|(
name|lblAccessControlList
argument_list|)
operator|.
name|addGroup
argument_list|(
name|layout
operator|.
name|createSequentialGroup
argument_list|()
operator|.
name|addGroup
argument_list|(
name|layout
operator|.
name|createParallelGroup
argument_list|(
name|javax
operator|.
name|swing
operator|.
name|GroupLayout
operator|.
name|Alignment
operator|.
name|LEADING
argument_list|)
operator|.
name|addGroup
argument_list|(
name|layout
operator|.
name|createParallelGroup
argument_list|(
name|javax
operator|.
name|swing
operator|.
name|GroupLayout
operator|.
name|Alignment
operator|.
name|TRAILING
argument_list|)
operator|.
name|addGroup
argument_list|(
name|layout
operator|.
name|createSequentialGroup
argument_list|()
operator|.
name|addComponent
argument_list|(
name|lblOwner
argument_list|)
operator|.
name|addGap
argument_list|(
literal|112
argument_list|,
literal|112
argument_list|,
literal|112
argument_list|)
argument_list|)
operator|.
name|addComponent
argument_list|(
name|lblLastModified
argument_list|,
name|javax
operator|.
name|swing
operator|.
name|GroupLayout
operator|.
name|Alignment
operator|.
name|LEADING
argument_list|)
operator|.
name|addComponent
argument_list|(
name|lblCreated
argument_list|,
name|javax
operator|.
name|swing
operator|.
name|GroupLayout
operator|.
name|Alignment
operator|.
name|LEADING
argument_list|)
argument_list|)
operator|.
name|addGroup
argument_list|(
name|layout
operator|.
name|createSequentialGroup
argument_list|()
operator|.
name|addGroup
argument_list|(
name|layout
operator|.
name|createParallelGroup
argument_list|(
name|javax
operator|.
name|swing
operator|.
name|GroupLayout
operator|.
name|Alignment
operator|.
name|LEADING
argument_list|)
operator|.
name|addComponent
argument_list|(
name|lblResource
argument_list|)
operator|.
name|addComponent
argument_list|(
name|lblInternetMediaType
argument_list|)
operator|.
name|addComponent
argument_list|(
name|lblGroup
argument_list|)
argument_list|)
operator|.
name|addPreferredGap
argument_list|(
name|javax
operator|.
name|swing
operator|.
name|LayoutStyle
operator|.
name|ComponentPlacement
operator|.
name|RELATED
argument_list|)
argument_list|)
argument_list|)
operator|.
name|addGroup
argument_list|(
name|layout
operator|.
name|createParallelGroup
argument_list|(
name|javax
operator|.
name|swing
operator|.
name|GroupLayout
operator|.
name|Alignment
operator|.
name|LEADING
argument_list|)
operator|.
name|addGroup
argument_list|(
name|layout
operator|.
name|createParallelGroup
argument_list|(
name|javax
operator|.
name|swing
operator|.
name|GroupLayout
operator|.
name|Alignment
operator|.
name|LEADING
argument_list|,
literal|false
argument_list|)
operator|.
name|addComponent
argument_list|(
name|lblResourceValue
argument_list|,
name|javax
operator|.
name|swing
operator|.
name|GroupLayout
operator|.
name|DEFAULT_SIZE
argument_list|,
literal|251
argument_list|,
name|Short
operator|.
name|MAX_VALUE
argument_list|)
operator|.
name|addComponent
argument_list|(
name|lblInternetMediaTypeValue
argument_list|,
name|javax
operator|.
name|swing
operator|.
name|GroupLayout
operator|.
name|DEFAULT_SIZE
argument_list|,
name|javax
operator|.
name|swing
operator|.
name|GroupLayout
operator|.
name|DEFAULT_SIZE
argument_list|,
name|Short
operator|.
name|MAX_VALUE
argument_list|)
operator|.
name|addComponent
argument_list|(
name|lblCreatedValue
argument_list|,
name|javax
operator|.
name|swing
operator|.
name|GroupLayout
operator|.
name|DEFAULT_SIZE
argument_list|,
name|javax
operator|.
name|swing
operator|.
name|GroupLayout
operator|.
name|DEFAULT_SIZE
argument_list|,
name|Short
operator|.
name|MAX_VALUE
argument_list|)
operator|.
name|addComponent
argument_list|(
name|lblLastModifiedValue
argument_list|,
name|javax
operator|.
name|swing
operator|.
name|GroupLayout
operator|.
name|DEFAULT_SIZE
argument_list|,
name|javax
operator|.
name|swing
operator|.
name|GroupLayout
operator|.
name|DEFAULT_SIZE
argument_list|,
name|Short
operator|.
name|MAX_VALUE
argument_list|)
argument_list|)
operator|.
name|addGroup
argument_list|(
name|layout
operator|.
name|createSequentialGroup
argument_list|()
operator|.
name|addComponent
argument_list|(
name|lblGroupValue
argument_list|,
name|javax
operator|.
name|swing
operator|.
name|GroupLayout
operator|.
name|PREFERRED_SIZE
argument_list|,
literal|216
argument_list|,
name|javax
operator|.
name|swing
operator|.
name|GroupLayout
operator|.
name|PREFERRED_SIZE
argument_list|)
operator|.
name|addPreferredGap
argument_list|(
name|javax
operator|.
name|swing
operator|.
name|LayoutStyle
operator|.
name|ComponentPlacement
operator|.
name|RELATED
argument_list|)
operator|.
name|addComponent
argument_list|(
name|btnChangeGroup
argument_list|,
name|javax
operator|.
name|swing
operator|.
name|GroupLayout
operator|.
name|PREFERRED_SIZE
argument_list|,
literal|26
argument_list|,
name|javax
operator|.
name|swing
operator|.
name|GroupLayout
operator|.
name|PREFERRED_SIZE
argument_list|)
argument_list|)
operator|.
name|addGroup
argument_list|(
name|layout
operator|.
name|createSequentialGroup
argument_list|()
operator|.
name|addComponent
argument_list|(
name|lblOwnerValue
argument_list|,
name|javax
operator|.
name|swing
operator|.
name|GroupLayout
operator|.
name|PREFERRED_SIZE
argument_list|,
literal|216
argument_list|,
name|javax
operator|.
name|swing
operator|.
name|GroupLayout
operator|.
name|PREFERRED_SIZE
argument_list|)
operator|.
name|addPreferredGap
argument_list|(
name|javax
operator|.
name|swing
operator|.
name|LayoutStyle
operator|.
name|ComponentPlacement
operator|.
name|RELATED
argument_list|)
operator|.
name|addComponent
argument_list|(
name|btnChangeOwner
argument_list|,
name|javax
operator|.
name|swing
operator|.
name|GroupLayout
operator|.
name|PREFERRED_SIZE
argument_list|,
literal|26
argument_list|,
name|javax
operator|.
name|swing
operator|.
name|GroupLayout
operator|.
name|PREFERRED_SIZE
argument_list|)
argument_list|)
argument_list|)
argument_list|)
operator|.
name|addComponent
argument_list|(
name|jScrollPane2
argument_list|,
name|javax
operator|.
name|swing
operator|.
name|GroupLayout
operator|.
name|PREFERRED_SIZE
argument_list|,
literal|298
argument_list|,
name|javax
operator|.
name|swing
operator|.
name|GroupLayout
operator|.
name|PREFERRED_SIZE
argument_list|)
operator|.
name|addComponent
argument_list|(
name|jScrollPane3
argument_list|,
name|javax
operator|.
name|swing
operator|.
name|GroupLayout
operator|.
name|PREFERRED_SIZE
argument_list|,
literal|404
argument_list|,
name|javax
operator|.
name|swing
operator|.
name|GroupLayout
operator|.
name|PREFERRED_SIZE
argument_list|)
operator|.
name|addComponent
argument_list|(
name|btnAddAce
argument_list|)
argument_list|)
operator|.
name|addGap
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
name|Short
operator|.
name|MAX_VALUE
argument_list|)
argument_list|)
operator|.
name|addComponent
argument_list|(
name|jSeparator2
argument_list|,
name|javax
operator|.
name|swing
operator|.
name|GroupLayout
operator|.
name|Alignment
operator|.
name|TRAILING
argument_list|)
operator|.
name|addGroup
argument_list|(
name|javax
operator|.
name|swing
operator|.
name|GroupLayout
operator|.
name|Alignment
operator|.
name|TRAILING
argument_list|,
name|layout
operator|.
name|createSequentialGroup
argument_list|()
operator|.
name|addGap
argument_list|(
literal|0
argument_list|,
literal|0
argument_list|,
name|Short
operator|.
name|MAX_VALUE
argument_list|)
operator|.
name|addComponent
argument_list|(
name|btnClose
argument_list|)
operator|.
name|addPreferredGap
argument_list|(
name|javax
operator|.
name|swing
operator|.
name|LayoutStyle
operator|.
name|ComponentPlacement
operator|.
name|RELATED
argument_list|)
operator|.
name|addComponent
argument_list|(
name|btnSave
argument_list|)
argument_list|)
argument_list|)
operator|.
name|addContainerGap
argument_list|()
argument_list|)
argument_list|)
expr_stmt|;
name|layout
operator|.
name|setVerticalGroup
argument_list|(
name|layout
operator|.
name|createParallelGroup
argument_list|(
name|javax
operator|.
name|swing
operator|.
name|GroupLayout
operator|.
name|Alignment
operator|.
name|LEADING
argument_list|)
operator|.
name|addGroup
argument_list|(
name|layout
operator|.
name|createSequentialGroup
argument_list|()
operator|.
name|addGap
argument_list|(
literal|17
argument_list|,
literal|17
argument_list|,
literal|17
argument_list|)
operator|.
name|addGroup
argument_list|(
name|layout
operator|.
name|createParallelGroup
argument_list|(
name|javax
operator|.
name|swing
operator|.
name|GroupLayout
operator|.
name|Alignment
operator|.
name|BASELINE
argument_list|)
operator|.
name|addComponent
argument_list|(
name|lblResource
argument_list|)
operator|.
name|addComponent
argument_list|(
name|lblResourceValue
argument_list|)
argument_list|)
operator|.
name|addPreferredGap
argument_list|(
name|javax
operator|.
name|swing
operator|.
name|LayoutStyle
operator|.
name|ComponentPlacement
operator|.
name|UNRELATED
argument_list|)
operator|.
name|addGroup
argument_list|(
name|layout
operator|.
name|createParallelGroup
argument_list|(
name|javax
operator|.
name|swing
operator|.
name|GroupLayout
operator|.
name|Alignment
operator|.
name|BASELINE
argument_list|)
operator|.
name|addComponent
argument_list|(
name|lblInternetMediaType
argument_list|)
operator|.
name|addComponent
argument_list|(
name|lblInternetMediaTypeValue
argument_list|)
argument_list|)
operator|.
name|addPreferredGap
argument_list|(
name|javax
operator|.
name|swing
operator|.
name|LayoutStyle
operator|.
name|ComponentPlacement
operator|.
name|UNRELATED
argument_list|)
operator|.
name|addGroup
argument_list|(
name|layout
operator|.
name|createParallelGroup
argument_list|(
name|javax
operator|.
name|swing
operator|.
name|GroupLayout
operator|.
name|Alignment
operator|.
name|BASELINE
argument_list|)
operator|.
name|addComponent
argument_list|(
name|lblCreated
argument_list|)
operator|.
name|addComponent
argument_list|(
name|lblCreatedValue
argument_list|)
argument_list|)
operator|.
name|addPreferredGap
argument_list|(
name|javax
operator|.
name|swing
operator|.
name|LayoutStyle
operator|.
name|ComponentPlacement
operator|.
name|UNRELATED
argument_list|)
operator|.
name|addGroup
argument_list|(
name|layout
operator|.
name|createParallelGroup
argument_list|(
name|javax
operator|.
name|swing
operator|.
name|GroupLayout
operator|.
name|Alignment
operator|.
name|BASELINE
argument_list|)
operator|.
name|addComponent
argument_list|(
name|lblLastModified
argument_list|)
operator|.
name|addComponent
argument_list|(
name|lblLastModifiedValue
argument_list|)
argument_list|)
operator|.
name|addGap
argument_list|(
literal|14
argument_list|,
literal|14
argument_list|,
literal|14
argument_list|)
operator|.
name|addComponent
argument_list|(
name|jSeparator1
argument_list|,
name|javax
operator|.
name|swing
operator|.
name|GroupLayout
operator|.
name|PREFERRED_SIZE
argument_list|,
literal|10
argument_list|,
name|javax
operator|.
name|swing
operator|.
name|GroupLayout
operator|.
name|PREFERRED_SIZE
argument_list|)
operator|.
name|addPreferredGap
argument_list|(
name|javax
operator|.
name|swing
operator|.
name|LayoutStyle
operator|.
name|ComponentPlacement
operator|.
name|UNRELATED
argument_list|)
operator|.
name|addGroup
argument_list|(
name|layout
operator|.
name|createParallelGroup
argument_list|(
name|javax
operator|.
name|swing
operator|.
name|GroupLayout
operator|.
name|Alignment
operator|.
name|BASELINE
argument_list|)
operator|.
name|addComponent
argument_list|(
name|lblOwner
argument_list|)
operator|.
name|addComponent
argument_list|(
name|lblOwnerValue
argument_list|)
operator|.
name|addComponent
argument_list|(
name|btnChangeOwner
argument_list|,
name|javax
operator|.
name|swing
operator|.
name|GroupLayout
operator|.
name|PREFERRED_SIZE
argument_list|,
literal|20
argument_list|,
name|javax
operator|.
name|swing
operator|.
name|GroupLayout
operator|.
name|PREFERRED_SIZE
argument_list|)
argument_list|)
operator|.
name|addPreferredGap
argument_list|(
name|javax
operator|.
name|swing
operator|.
name|LayoutStyle
operator|.
name|ComponentPlacement
operator|.
name|UNRELATED
argument_list|)
operator|.
name|addGroup
argument_list|(
name|layout
operator|.
name|createParallelGroup
argument_list|(
name|javax
operator|.
name|swing
operator|.
name|GroupLayout
operator|.
name|Alignment
operator|.
name|BASELINE
argument_list|)
operator|.
name|addComponent
argument_list|(
name|lblGroup
argument_list|)
operator|.
name|addComponent
argument_list|(
name|lblGroupValue
argument_list|)
operator|.
name|addComponent
argument_list|(
name|btnChangeGroup
argument_list|,
name|javax
operator|.
name|swing
operator|.
name|GroupLayout
operator|.
name|PREFERRED_SIZE
argument_list|,
literal|20
argument_list|,
name|javax
operator|.
name|swing
operator|.
name|GroupLayout
operator|.
name|PREFERRED_SIZE
argument_list|)
argument_list|)
operator|.
name|addPreferredGap
argument_list|(
name|javax
operator|.
name|swing
operator|.
name|LayoutStyle
operator|.
name|ComponentPlacement
operator|.
name|UNRELATED
argument_list|)
operator|.
name|addComponent
argument_list|(
name|lblBasePermissions
argument_list|)
operator|.
name|addGap
argument_list|(
literal|5
argument_list|,
literal|5
argument_list|,
literal|5
argument_list|)
operator|.
name|addComponent
argument_list|(
name|jScrollPane2
argument_list|,
name|javax
operator|.
name|swing
operator|.
name|GroupLayout
operator|.
name|PREFERRED_SIZE
argument_list|,
literal|68
argument_list|,
name|javax
operator|.
name|swing
operator|.
name|GroupLayout
operator|.
name|PREFERRED_SIZE
argument_list|)
operator|.
name|addPreferredGap
argument_list|(
name|javax
operator|.
name|swing
operator|.
name|LayoutStyle
operator|.
name|ComponentPlacement
operator|.
name|UNRELATED
argument_list|)
operator|.
name|addComponent
argument_list|(
name|lblAccessControlList
argument_list|)
operator|.
name|addPreferredGap
argument_list|(
name|javax
operator|.
name|swing
operator|.
name|LayoutStyle
operator|.
name|ComponentPlacement
operator|.
name|RELATED
argument_list|)
operator|.
name|addComponent
argument_list|(
name|jScrollPane3
argument_list|,
name|javax
operator|.
name|swing
operator|.
name|GroupLayout
operator|.
name|PREFERRED_SIZE
argument_list|,
literal|132
argument_list|,
name|javax
operator|.
name|swing
operator|.
name|GroupLayout
operator|.
name|PREFERRED_SIZE
argument_list|)
operator|.
name|addPreferredGap
argument_list|(
name|javax
operator|.
name|swing
operator|.
name|LayoutStyle
operator|.
name|ComponentPlacement
operator|.
name|RELATED
argument_list|)
operator|.
name|addComponent
argument_list|(
name|btnAddAce
argument_list|)
operator|.
name|addPreferredGap
argument_list|(
name|javax
operator|.
name|swing
operator|.
name|LayoutStyle
operator|.
name|ComponentPlacement
operator|.
name|RELATED
argument_list|,
name|javax
operator|.
name|swing
operator|.
name|GroupLayout
operator|.
name|DEFAULT_SIZE
argument_list|,
name|Short
operator|.
name|MAX_VALUE
argument_list|)
operator|.
name|addComponent
argument_list|(
name|jSeparator2
argument_list|,
name|javax
operator|.
name|swing
operator|.
name|GroupLayout
operator|.
name|PREFERRED_SIZE
argument_list|,
literal|10
argument_list|,
name|javax
operator|.
name|swing
operator|.
name|GroupLayout
operator|.
name|PREFERRED_SIZE
argument_list|)
operator|.
name|addPreferredGap
argument_list|(
name|javax
operator|.
name|swing
operator|.
name|LayoutStyle
operator|.
name|ComponentPlacement
operator|.
name|UNRELATED
argument_list|)
operator|.
name|addGroup
argument_list|(
name|layout
operator|.
name|createParallelGroup
argument_list|(
name|javax
operator|.
name|swing
operator|.
name|GroupLayout
operator|.
name|Alignment
operator|.
name|BASELINE
argument_list|)
operator|.
name|addComponent
argument_list|(
name|btnClose
argument_list|)
operator|.
name|addComponent
argument_list|(
name|btnSave
argument_list|)
argument_list|)
operator|.
name|addGap
argument_list|(
literal|20
argument_list|,
literal|20
argument_list|,
literal|20
argument_list|)
argument_list|)
argument_list|)
expr_stmt|;
name|pack
argument_list|()
expr_stmt|;
block|}
comment|//</editor-fold>//GEN-END:initComponents
specifier|private
name|void
name|btnSaveActionPerformed
parameter_list|(
name|java
operator|.
name|awt
operator|.
name|event
operator|.
name|ActionEvent
name|evt
parameter_list|)
block|{
comment|//GEN-FIRST:event_btnSaveActionPerformed
try|try
block|{
specifier|final
name|List
argument_list|<
name|ACEAider
argument_list|>
name|dlgAces
init|=
operator|new
name|ArrayList
argument_list|<
name|ACEAider
argument_list|>
argument_list|()
decl_stmt|;
if|if
condition|(
name|permission
operator|instanceof
name|ACLPermission
condition|)
block|{
for|for
control|(
name|int
name|i
init|=
literal|0
init|;
name|i
operator|<
name|tblAcl
operator|.
name|getRowCount
argument_list|()
condition|;
name|i
operator|++
control|)
block|{
specifier|final
name|ACE_TARGET
name|target
init|=
name|ACE_TARGET
operator|.
name|valueOf
argument_list|(
operator|(
name|String
operator|)
name|getAclTableModel
argument_list|()
operator|.
name|getValueAt
argument_list|(
name|i
argument_list|,
literal|0
argument_list|)
argument_list|)
decl_stmt|;
specifier|final
name|String
name|who
init|=
operator|(
name|String
operator|)
name|getAclTableModel
argument_list|()
operator|.
name|getValueAt
argument_list|(
name|i
argument_list|,
literal|1
argument_list|)
decl_stmt|;
specifier|final
name|ACE_ACCESS_TYPE
name|access
init|=
name|ACE_ACCESS_TYPE
operator|.
name|valueOf
argument_list|(
operator|(
name|String
operator|)
name|getAclTableModel
argument_list|()
operator|.
name|getValueAt
argument_list|(
name|i
argument_list|,
literal|2
argument_list|)
argument_list|)
decl_stmt|;
name|int
name|mode
init|=
literal|0
decl_stmt|;
if|if
condition|(
operator|(
name|Boolean
operator|)
name|tblAcl
operator|.
name|getValueAt
argument_list|(
name|i
argument_list|,
literal|3
argument_list|)
condition|)
block|{
name|mode
operator||=
name|Permission
operator|.
name|READ
expr_stmt|;
block|}
if|if
condition|(
operator|(
name|Boolean
operator|)
name|tblAcl
operator|.
name|getValueAt
argument_list|(
name|i
argument_list|,
literal|4
argument_list|)
condition|)
block|{
name|mode
operator||=
name|Permission
operator|.
name|WRITE
expr_stmt|;
block|}
if|if
condition|(
operator|(
name|Boolean
operator|)
name|tblAcl
operator|.
name|getValueAt
argument_list|(
name|i
argument_list|,
literal|5
argument_list|)
condition|)
block|{
name|mode
operator||=
name|Permission
operator|.
name|EXECUTE
expr_stmt|;
block|}
name|dlgAces
operator|.
name|add
argument_list|(
operator|new
name|ACEAider
argument_list|(
name|access
argument_list|,
name|target
argument_list|,
name|who
argument_list|,
name|mode
argument_list|)
argument_list|)
expr_stmt|;
block|}
block|}
for|for
control|(
specifier|final
name|ResourceDescriptor
name|desc
range|:
name|applyTo
control|)
block|{
if|if
condition|(
name|desc
operator|.
name|isCollection
argument_list|()
condition|)
block|{
specifier|final
name|Collection
name|coll
init|=
name|parent
operator|.
name|getChildCollection
argument_list|(
name|desc
operator|.
name|getName
argument_list|()
operator|.
name|toString
argument_list|()
argument_list|)
decl_stmt|;
name|getUserManagementService
argument_list|()
operator|.
name|setPermissions
argument_list|(
name|coll
argument_list|,
name|lblOwnerValue
operator|.
name|getText
argument_list|()
argument_list|,
name|lblGroupValue
operator|.
name|getText
argument_list|()
argument_list|,
name|getBasicMode
argument_list|()
argument_list|,
name|dlgAces
argument_list|)
expr_stmt|;
block|}
else|else
block|{
specifier|final
name|Resource
name|res
init|=
name|parent
operator|.
name|getResource
argument_list|(
name|desc
operator|.
name|getName
argument_list|()
operator|.
name|toString
argument_list|()
argument_list|)
decl_stmt|;
name|getUserManagementService
argument_list|()
operator|.
name|setPermissions
argument_list|(
name|res
argument_list|,
name|lblOwnerValue
operator|.
name|getText
argument_list|()
argument_list|,
name|lblGroupValue
operator|.
name|getText
argument_list|()
argument_list|,
name|getBasicMode
argument_list|()
argument_list|,
name|dlgAces
argument_list|)
expr_stmt|;
block|}
block|}
name|setVisible
argument_list|(
literal|false
argument_list|)
expr_stmt|;
name|dispose
argument_list|()
expr_stmt|;
block|}
catch|catch
parameter_list|(
specifier|final
name|XMLDBException
name|xmldbe
parameter_list|)
block|{
name|JOptionPane
operator|.
name|showMessageDialog
argument_list|(
name|this
argument_list|,
literal|"Could not update properties: "
operator|+
name|xmldbe
operator|.
name|getMessage
argument_list|()
argument_list|,
name|ERROR_TITLE
argument_list|,
name|JOptionPane
operator|.
name|ERROR_MESSAGE
argument_list|)
expr_stmt|;
return|return;
block|}
block|}
comment|//GEN-LAST:event_btnSaveActionPerformed
specifier|private
name|void
name|btnCloseActionPerformed
parameter_list|(
name|java
operator|.
name|awt
operator|.
name|event
operator|.
name|ActionEvent
name|evt
parameter_list|)
block|{
comment|//GEN-FIRST:event_btnCloseActionPerformed
name|setVisible
argument_list|(
literal|false
argument_list|)
expr_stmt|;
name|dispose
argument_list|()
expr_stmt|;
block|}
comment|//GEN-LAST:event_btnCloseActionPerformed
specifier|private
name|void
name|btnChangeOwnerActionPerformed
parameter_list|(
name|java
operator|.
name|awt
operator|.
name|event
operator|.
name|ActionEvent
name|evt
parameter_list|)
block|{
comment|//GEN-FIRST:event_btnChangeOwnerActionPerformed
specifier|final
name|DialogCompleteWithResponse
argument_list|<
name|String
argument_list|>
name|callback
init|=
operator|new
name|DialogCompleteWithResponse
argument_list|<
name|String
argument_list|>
argument_list|()
block|{
annotation|@
name|Override
specifier|public
name|void
name|complete
parameter_list|(
specifier|final
name|String
name|username
parameter_list|)
block|{
name|lblOwnerValue
operator|.
name|setText
argument_list|(
name|username
argument_list|)
expr_stmt|;
block|}
block|}
decl_stmt|;
try|try
block|{
specifier|final
name|FindUserForm
name|findUserForm
init|=
operator|new
name|FindUserForm
argument_list|(
name|getUserManagementService
argument_list|()
argument_list|)
decl_stmt|;
name|findUserForm
operator|.
name|addDialogCompleteWithResponseCallback
argument_list|(
name|callback
argument_list|)
expr_stmt|;
name|findUserForm
operator|.
name|setTitle
argument_list|(
literal|"Change Owner..."
argument_list|)
expr_stmt|;
name|findUserForm
operator|.
name|setVisible
argument_list|(
literal|true
argument_list|)
expr_stmt|;
block|}
catch|catch
parameter_list|(
specifier|final
name|XMLDBException
name|xmldbe
parameter_list|)
block|{
name|JOptionPane
operator|.
name|showMessageDialog
argument_list|(
name|this
argument_list|,
literal|"Could not retrieve list of users: "
operator|+
name|xmldbe
operator|.
name|getMessage
argument_list|()
argument_list|,
name|ERROR_TITLE
argument_list|,
name|JOptionPane
operator|.
name|ERROR_MESSAGE
argument_list|)
expr_stmt|;
return|return;
block|}
block|}
comment|//GEN-LAST:event_btnChangeOwnerActionPerformed
specifier|private
name|void
name|btnChangeGroupActionPerformed
parameter_list|(
name|java
operator|.
name|awt
operator|.
name|event
operator|.
name|ActionEvent
name|evt
parameter_list|)
block|{
comment|//GEN-FIRST:event_btnChangeGroupActionPerformed
specifier|final
name|DialogCompleteWithResponse
argument_list|<
name|String
argument_list|>
name|callback
init|=
operator|new
name|DialogCompleteWithResponse
argument_list|<
name|String
argument_list|>
argument_list|()
block|{
annotation|@
name|Override
specifier|public
name|void
name|complete
parameter_list|(
specifier|final
name|String
name|groupName
parameter_list|)
block|{
name|lblGroupValue
operator|.
name|setText
argument_list|(
name|groupName
argument_list|)
expr_stmt|;
block|}
block|}
decl_stmt|;
try|try
block|{
specifier|final
name|FindGroupForm
name|findGroupForm
init|=
operator|new
name|FindGroupForm
argument_list|(
name|getUserManagementService
argument_list|()
argument_list|)
decl_stmt|;
name|findGroupForm
operator|.
name|addDialogCompleteWithResponseCallback
argument_list|(
name|callback
argument_list|)
expr_stmt|;
name|findGroupForm
operator|.
name|setTitle
argument_list|(
literal|"Change Group..."
argument_list|)
expr_stmt|;
name|findGroupForm
operator|.
name|setVisible
argument_list|(
literal|true
argument_list|)
expr_stmt|;
block|}
catch|catch
parameter_list|(
specifier|final
name|XMLDBException
name|xmldbe
parameter_list|)
block|{
name|JOptionPane
operator|.
name|showMessageDialog
argument_list|(
name|this
argument_list|,
literal|"Could not retrieve list of groups: "
operator|+
name|xmldbe
operator|.
name|getMessage
argument_list|()
argument_list|,
name|ERROR_TITLE
argument_list|,
name|JOptionPane
operator|.
name|ERROR_MESSAGE
argument_list|)
expr_stmt|;
return|return;
block|}
block|}
comment|//GEN-LAST:event_btnChangeGroupActionPerformed
specifier|private
name|void
name|miRemoveAceActionPerformed
parameter_list|(
name|java
operator|.
name|awt
operator|.
name|event
operator|.
name|ActionEvent
name|evt
parameter_list|)
block|{
comment|//GEN-FIRST:event_miRemoveAceActionPerformed
name|getAclTableModel
argument_list|()
operator|.
name|removeRow
argument_list|(
name|tblAcl
operator|.
name|getSelectedRow
argument_list|()
argument_list|)
expr_stmt|;
block|}
comment|//GEN-LAST:event_miRemoveAceActionPerformed
specifier|private
name|void
name|miMoveUpActionPerformed
parameter_list|(
name|java
operator|.
name|awt
operator|.
name|event
operator|.
name|ActionEvent
name|evt
parameter_list|)
block|{
comment|//GEN-FIRST:event_miMoveUpActionPerformed
if|if
condition|(
name|tblAcl
operator|.
name|getSelectedRow
argument_list|()
operator|>
literal|0
condition|)
block|{
name|getAclTableModel
argument_list|()
operator|.
name|moveRow
argument_list|(
name|tblAcl
operator|.
name|getSelectedRow
argument_list|()
argument_list|,
name|tblAcl
operator|.
name|getSelectedRow
argument_list|()
argument_list|,
name|tblAcl
operator|.
name|getSelectedRow
argument_list|()
operator|-
literal|1
argument_list|)
expr_stmt|;
block|}
block|}
comment|//GEN-LAST:event_miMoveUpActionPerformed
specifier|private
name|void
name|miMoveDownActionPerformed
parameter_list|(
name|java
operator|.
name|awt
operator|.
name|event
operator|.
name|ActionEvent
name|evt
parameter_list|)
block|{
comment|//GEN-FIRST:event_miMoveDownActionPerformed
if|if
condition|(
name|tblAcl
operator|.
name|getSelectedRow
argument_list|()
operator|<
name|getAclTableModel
argument_list|()
operator|.
name|getRowCount
argument_list|()
operator|-
literal|1
condition|)
block|{
name|getAclTableModel
argument_list|()
operator|.
name|moveRow
argument_list|(
name|tblAcl
operator|.
name|getSelectedRow
argument_list|()
argument_list|,
name|tblAcl
operator|.
name|getSelectedRow
argument_list|()
argument_list|,
name|tblAcl
operator|.
name|getSelectedRow
argument_list|()
operator|+
literal|1
argument_list|)
expr_stmt|;
block|}
block|}
comment|//GEN-LAST:event_miMoveDownActionPerformed
specifier|private
name|void
name|btnAddAceActionPerformed
parameter_list|(
name|java
operator|.
name|awt
operator|.
name|event
operator|.
name|ActionEvent
name|evt
parameter_list|)
block|{
comment|//GEN-FIRST:event_btnAddAceActionPerformed
specifier|final
name|DialogCompleteWithResponse
argument_list|<
name|ACEAider
argument_list|>
name|callback
init|=
operator|new
name|DialogCompleteWithResponse
argument_list|<
name|ACEAider
argument_list|>
argument_list|()
block|{
annotation|@
name|Override
specifier|public
name|void
name|complete
parameter_list|(
specifier|final
name|ACEAider
name|ace
parameter_list|)
block|{
name|getAclTableModel
argument_list|()
operator|.
name|addRow
argument_list|(
operator|new
name|Object
index|[]
block|{
name|ace
operator|.
name|getTarget
argument_list|()
operator|.
name|toString
argument_list|()
block|,
name|ace
operator|.
name|getWho
argument_list|()
block|,
name|ace
operator|.
name|getAccessType
argument_list|()
operator|.
name|toString
argument_list|()
block|,
operator|(
name|ace
operator|.
name|getMode
argument_list|()
operator|&
name|Permission
operator|.
name|READ
operator|)
operator|==
name|Permission
operator|.
name|READ
block|,
operator|(
name|ace
operator|.
name|getMode
argument_list|()
operator|&
name|Permission
operator|.
name|WRITE
operator|)
operator|==
name|Permission
operator|.
name|WRITE
block|,
operator|(
name|ace
operator|.
name|getMode
argument_list|()
operator|&
name|Permission
operator|.
name|EXECUTE
operator|)
operator|==
name|Permission
operator|.
name|EXECUTE
block|,                 }
argument_list|)
expr_stmt|;
block|}
block|}
decl_stmt|;
try|try
block|{
specifier|final
name|AccessControlEntryDialog
name|aceDialog
init|=
operator|new
name|AccessControlEntryDialog
argument_list|(
name|getUserManagementService
argument_list|()
argument_list|)
decl_stmt|;
name|aceDialog
operator|.
name|addDialogCompleteWithResponseCallback
argument_list|(
name|callback
argument_list|)
expr_stmt|;
name|aceDialog
operator|.
name|setVisible
argument_list|(
literal|true
argument_list|)
expr_stmt|;
block|}
catch|catch
parameter_list|(
specifier|final
name|XMLDBException
name|xmldbe
parameter_list|)
block|{
name|JOptionPane
operator|.
name|showMessageDialog
argument_list|(
name|this
argument_list|,
literal|"Could not get user/group members: "
operator|+
name|xmldbe
operator|.
name|getMessage
argument_list|()
argument_list|,
name|ERROR_TITLE
argument_list|,
name|JOptionPane
operator|.
name|ERROR_MESSAGE
argument_list|)
expr_stmt|;
block|}
block|}
comment|//GEN-LAST:event_btnAddAceActionPerformed
specifier|private
name|void
name|miInsertAceBeforeActionPerformed
parameter_list|(
name|java
operator|.
name|awt
operator|.
name|event
operator|.
name|ActionEvent
name|evt
parameter_list|)
block|{
comment|//GEN-FIRST:event_miInsertAceBeforeActionPerformed
specifier|final
name|DialogCompleteWithResponse
argument_list|<
name|ACEAider
argument_list|>
name|callback
init|=
operator|new
name|DialogCompleteWithResponse
argument_list|<
name|ACEAider
argument_list|>
argument_list|()
block|{
annotation|@
name|Override
specifier|public
name|void
name|complete
parameter_list|(
specifier|final
name|ACEAider
name|ace
parameter_list|)
block|{
specifier|final
name|int
name|insertAt
init|=
name|tblAcl
operator|.
name|getSelectedRow
argument_list|()
decl_stmt|;
name|getAclTableModel
argument_list|()
operator|.
name|insertRow
argument_list|(
name|insertAt
argument_list|,
operator|new
name|Object
index|[]
block|{
name|ace
operator|.
name|getTarget
argument_list|()
operator|.
name|toString
argument_list|()
block|,
name|ace
operator|.
name|getWho
argument_list|()
block|,
name|ace
operator|.
name|getAccessType
argument_list|()
operator|.
name|toString
argument_list|()
block|,
operator|(
name|ace
operator|.
name|getMode
argument_list|()
operator|&
name|Permission
operator|.
name|READ
operator|)
operator|==
name|Permission
operator|.
name|READ
block|,
operator|(
name|ace
operator|.
name|getMode
argument_list|()
operator|&
name|Permission
operator|.
name|WRITE
operator|)
operator|==
name|Permission
operator|.
name|WRITE
block|,
operator|(
name|ace
operator|.
name|getMode
argument_list|()
operator|&
name|Permission
operator|.
name|EXECUTE
operator|)
operator|==
name|Permission
operator|.
name|EXECUTE
block|,                 }
argument_list|)
expr_stmt|;
block|}
block|}
decl_stmt|;
try|try
block|{
specifier|final
name|AccessControlEntryDialog
name|aceDialog
init|=
operator|new
name|AccessControlEntryDialog
argument_list|(
name|getUserManagementService
argument_list|()
argument_list|)
decl_stmt|;
name|aceDialog
operator|.
name|addDialogCompleteWithResponseCallback
argument_list|(
name|callback
argument_list|)
expr_stmt|;
name|aceDialog
operator|.
name|setVisible
argument_list|(
literal|true
argument_list|)
expr_stmt|;
block|}
catch|catch
parameter_list|(
specifier|final
name|XMLDBException
name|xmldbe
parameter_list|)
block|{
name|JOptionPane
operator|.
name|showMessageDialog
argument_list|(
name|this
argument_list|,
literal|"Could not get user/group members: "
operator|+
name|xmldbe
operator|.
name|getMessage
argument_list|()
argument_list|,
name|ERROR_TITLE
argument_list|,
name|JOptionPane
operator|.
name|ERROR_MESSAGE
argument_list|)
expr_stmt|;
block|}
block|}
comment|//GEN-LAST:event_miInsertAceBeforeActionPerformed
specifier|private
name|void
name|miInsertAceAfterActionPerformed
parameter_list|(
name|java
operator|.
name|awt
operator|.
name|event
operator|.
name|ActionEvent
name|evt
parameter_list|)
block|{
comment|//GEN-FIRST:event_miInsertAceAfterActionPerformed
specifier|final
name|DialogCompleteWithResponse
argument_list|<
name|ACEAider
argument_list|>
name|callback
init|=
operator|new
name|DialogCompleteWithResponse
argument_list|<
name|ACEAider
argument_list|>
argument_list|()
block|{
annotation|@
name|Override
specifier|public
name|void
name|complete
parameter_list|(
specifier|final
name|ACEAider
name|ace
parameter_list|)
block|{
specifier|final
name|int
name|insertAt
init|=
name|tblAcl
operator|.
name|getSelectedRow
argument_list|()
operator|<
name|getAclTableModel
argument_list|()
operator|.
name|getRowCount
argument_list|()
operator|-
literal|1
condition|?
name|tblAcl
operator|.
name|getSelectedRow
argument_list|()
operator|+
literal|1
else|:
name|getAclTableModel
argument_list|()
operator|.
name|getRowCount
argument_list|()
decl_stmt|;
name|getAclTableModel
argument_list|()
operator|.
name|insertRow
argument_list|(
name|insertAt
argument_list|,
operator|new
name|Object
index|[]
block|{
name|ace
operator|.
name|getTarget
argument_list|()
operator|.
name|toString
argument_list|()
block|,
name|ace
operator|.
name|getWho
argument_list|()
block|,
name|ace
operator|.
name|getAccessType
argument_list|()
operator|.
name|toString
argument_list|()
block|,
operator|(
name|ace
operator|.
name|getMode
argument_list|()
operator|&
name|Permission
operator|.
name|READ
operator|)
operator|==
name|Permission
operator|.
name|READ
block|,
operator|(
name|ace
operator|.
name|getMode
argument_list|()
operator|&
name|Permission
operator|.
name|WRITE
operator|)
operator|==
name|Permission
operator|.
name|WRITE
block|,
operator|(
name|ace
operator|.
name|getMode
argument_list|()
operator|&
name|Permission
operator|.
name|EXECUTE
operator|)
operator|==
name|Permission
operator|.
name|EXECUTE
block|,                 }
argument_list|)
expr_stmt|;
block|}
block|}
decl_stmt|;
try|try
block|{
specifier|final
name|AccessControlEntryDialog
name|aceDialog
init|=
operator|new
name|AccessControlEntryDialog
argument_list|(
name|getUserManagementService
argument_list|()
argument_list|)
decl_stmt|;
name|aceDialog
operator|.
name|addDialogCompleteWithResponseCallback
argument_list|(
name|callback
argument_list|)
expr_stmt|;
name|aceDialog
operator|.
name|setVisible
argument_list|(
literal|true
argument_list|)
expr_stmt|;
block|}
catch|catch
parameter_list|(
specifier|final
name|XMLDBException
name|xmldbe
parameter_list|)
block|{
name|JOptionPane
operator|.
name|showMessageDialog
argument_list|(
name|this
argument_list|,
literal|"Could not get user/group members: "
operator|+
name|xmldbe
operator|.
name|getMessage
argument_list|()
argument_list|,
name|ERROR_TITLE
argument_list|,
name|JOptionPane
operator|.
name|ERROR_MESSAGE
argument_list|)
expr_stmt|;
block|}
block|}
comment|//GEN-LAST:event_miInsertAceAfterActionPerformed
specifier|private
name|boolean
name|isDba
parameter_list|()
throws|throws
name|XMLDBException
block|{
specifier|final
name|Set
argument_list|<
name|String
argument_list|>
name|dbaMembers
init|=
operator|new
name|HashSet
argument_list|<
name|String
argument_list|>
argument_list|(
name|Arrays
operator|.
name|asList
argument_list|(
name|getUserManagementService
argument_list|()
operator|.
name|getGroupMembers
argument_list|(
name|SecurityManager
operator|.
name|DBA_GROUP
argument_list|)
argument_list|)
argument_list|)
decl_stmt|;
return|return
name|dbaMembers
operator|.
name|contains
argument_list|(
name|currentUser
argument_list|)
return|;
block|}
specifier|private
name|boolean
name|canModifyPermissions
parameter_list|()
throws|throws
name|XMLDBException
block|{
return|return
name|isDba
argument_list|()
operator|||
name|permission
operator|.
name|getOwner
argument_list|()
operator|.
name|getName
argument_list|()
operator|.
name|equals
argument_list|(
name|currentUser
argument_list|)
return|;
block|}
specifier|private
name|void
name|tblAclMouseClicked
parameter_list|(
name|java
operator|.
name|awt
operator|.
name|event
operator|.
name|MouseEvent
name|evt
parameter_list|)
block|{
comment|//GEN-FIRST:event_tblAclMouseClicked
specifier|final
name|boolean
name|aclSelected
init|=
name|tblAcl
operator|.
name|getSelectedRow
argument_list|()
operator|>
operator|-
literal|1
decl_stmt|;
try|try
block|{
specifier|final
name|boolean
name|canModify
init|=
name|canModifyPermissions
argument_list|()
decl_stmt|;
name|miInsertAceBefore
operator|.
name|setEnabled
argument_list|(
name|canModify
argument_list|)
expr_stmt|;
name|miInsertAceAfter
operator|.
name|setEnabled
argument_list|(
name|canModify
argument_list|)
expr_stmt|;
name|miMoveUp
operator|.
name|setEnabled
argument_list|(
name|canModify
operator|&&
name|aclSelected
argument_list|)
expr_stmt|;
name|miMoveDown
operator|.
name|setEnabled
argument_list|(
name|canModify
operator|&&
name|aclSelected
argument_list|)
expr_stmt|;
name|miRemoveAce
operator|.
name|setEnabled
argument_list|(
name|canModify
operator|&&
name|aclSelected
argument_list|)
expr_stmt|;
block|}
catch|catch
parameter_list|(
specifier|final
name|XMLDBException
name|xmldbe
parameter_list|)
block|{
name|JOptionPane
operator|.
name|showMessageDialog
argument_list|(
name|this
argument_list|,
literal|"Could not get dba group members: "
operator|+
name|xmldbe
operator|.
name|getMessage
argument_list|()
argument_list|,
name|ERROR_TITLE
argument_list|,
name|JOptionPane
operator|.
name|ERROR_MESSAGE
argument_list|)
expr_stmt|;
block|}
block|}
comment|//GEN-LAST:event_tblAclMouseClicked
comment|// Variables declaration - do not modify//GEN-BEGIN:variables
specifier|private
name|javax
operator|.
name|swing
operator|.
name|JButton
name|btnAddAce
decl_stmt|;
specifier|private
name|javax
operator|.
name|swing
operator|.
name|JButton
name|btnChangeGroup
decl_stmt|;
specifier|private
name|javax
operator|.
name|swing
operator|.
name|JButton
name|btnChangeOwner
decl_stmt|;
specifier|private
name|javax
operator|.
name|swing
operator|.
name|JButton
name|btnClose
decl_stmt|;
specifier|private
name|javax
operator|.
name|swing
operator|.
name|JButton
name|btnSave
decl_stmt|;
specifier|private
name|javax
operator|.
name|swing
operator|.
name|JScrollPane
name|jScrollPane1
decl_stmt|;
specifier|private
name|javax
operator|.
name|swing
operator|.
name|JScrollPane
name|jScrollPane2
decl_stmt|;
specifier|private
name|javax
operator|.
name|swing
operator|.
name|JScrollPane
name|jScrollPane3
decl_stmt|;
specifier|private
name|javax
operator|.
name|swing
operator|.
name|JSeparator
name|jSeparator1
decl_stmt|;
specifier|private
name|javax
operator|.
name|swing
operator|.
name|JSeparator
name|jSeparator2
decl_stmt|;
specifier|private
name|javax
operator|.
name|swing
operator|.
name|JPopupMenu
operator|.
name|Separator
name|jSeparator3
decl_stmt|;
specifier|private
name|javax
operator|.
name|swing
operator|.
name|JPopupMenu
operator|.
name|Separator
name|jSeparator4
decl_stmt|;
specifier|private
name|javax
operator|.
name|swing
operator|.
name|JTable
name|jTable1
decl_stmt|;
specifier|private
name|javax
operator|.
name|swing
operator|.
name|JLabel
name|lblAccessControlList
decl_stmt|;
specifier|private
name|javax
operator|.
name|swing
operator|.
name|JLabel
name|lblBasePermissions
decl_stmt|;
specifier|private
name|javax
operator|.
name|swing
operator|.
name|JLabel
name|lblCreated
decl_stmt|;
specifier|private
name|javax
operator|.
name|swing
operator|.
name|JLabel
name|lblCreatedValue
decl_stmt|;
specifier|private
name|javax
operator|.
name|swing
operator|.
name|JLabel
name|lblGroup
decl_stmt|;
specifier|private
name|javax
operator|.
name|swing
operator|.
name|JLabel
name|lblGroupValue
decl_stmt|;
specifier|private
name|javax
operator|.
name|swing
operator|.
name|JLabel
name|lblInternetMediaType
decl_stmt|;
specifier|private
name|javax
operator|.
name|swing
operator|.
name|JLabel
name|lblInternetMediaTypeValue
decl_stmt|;
specifier|private
name|javax
operator|.
name|swing
operator|.
name|JLabel
name|lblLastModified
decl_stmt|;
specifier|private
name|javax
operator|.
name|swing
operator|.
name|JLabel
name|lblLastModifiedValue
decl_stmt|;
specifier|private
name|javax
operator|.
name|swing
operator|.
name|JLabel
name|lblOwner
decl_stmt|;
specifier|private
name|javax
operator|.
name|swing
operator|.
name|JLabel
name|lblOwnerValue
decl_stmt|;
specifier|private
name|javax
operator|.
name|swing
operator|.
name|JLabel
name|lblResource
decl_stmt|;
specifier|private
name|javax
operator|.
name|swing
operator|.
name|JLabel
name|lblResourceValue
decl_stmt|;
specifier|private
name|javax
operator|.
name|swing
operator|.
name|JMenuItem
name|miInsertAceAfter
decl_stmt|;
specifier|private
name|javax
operator|.
name|swing
operator|.
name|JMenuItem
name|miInsertAceBefore
decl_stmt|;
specifier|private
name|javax
operator|.
name|swing
operator|.
name|JMenuItem
name|miMoveDown
decl_stmt|;
specifier|private
name|javax
operator|.
name|swing
operator|.
name|JMenuItem
name|miMoveUp
decl_stmt|;
specifier|private
name|javax
operator|.
name|swing
operator|.
name|JMenuItem
name|miRemoveAce
decl_stmt|;
specifier|private
name|javax
operator|.
name|swing
operator|.
name|JPopupMenu
name|pmAcl
decl_stmt|;
specifier|private
name|javax
operator|.
name|swing
operator|.
name|JTable
name|tblAcl
decl_stmt|;
specifier|private
name|javax
operator|.
name|swing
operator|.
name|JTable
name|tblBasePermissions
decl_stmt|;
comment|// End of variables declaration//GEN-END:variables
block|}
end_class

end_unit

