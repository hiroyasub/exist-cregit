begin_unit|revision:1.0.0;language:Java;cregit-version:0.0.1
begin_comment
comment|/*  * ====================================================================  * Copyright (c) 2004-2010 TMate Software Ltd.  All rights reserved.  *  * This software is licensed as described in the file COPYING, which  * you should have received as part of this distribution.  The terms  * are also available at http://svnkit.com/license.html  * If newer versions of this license are posted there, you may use a  * newer version instead, at your option.  * ====================================================================  */
end_comment

begin_package
package|package
name|org
operator|.
name|exist
operator|.
name|versioning
operator|.
name|svn
operator|.
name|internal
operator|.
name|wc
operator|.
name|admin
package|;
end_package

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|Iterator
import|;
end_import

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|Map
import|;
end_import

begin_import
import|import
name|org
operator|.
name|exist
operator|.
name|versioning
operator|.
name|svn
operator|.
name|internal
operator|.
name|wc
operator|.
name|SVNTreeConflictUtil
import|;
end_import

begin_import
import|import
name|org
operator|.
name|tmatesoft
operator|.
name|svn
operator|.
name|core
operator|.
name|SVNDepth
import|;
end_import

begin_import
import|import
name|org
operator|.
name|tmatesoft
operator|.
name|svn
operator|.
name|core
operator|.
name|SVNException
import|;
end_import

begin_import
import|import
name|org
operator|.
name|tmatesoft
operator|.
name|svn
operator|.
name|core
operator|.
name|SVNNodeKind
import|;
end_import

begin_import
import|import
name|org
operator|.
name|tmatesoft
operator|.
name|svn
operator|.
name|core
operator|.
name|SVNProperty
import|;
end_import

begin_import
import|import
name|org
operator|.
name|tmatesoft
operator|.
name|svn
operator|.
name|core
operator|.
name|SVNURL
import|;
end_import

begin_import
import|import
name|org
operator|.
name|tmatesoft
operator|.
name|svn
operator|.
name|core
operator|.
name|io
operator|.
name|SVNRepository
import|;
end_import

begin_import
import|import
name|org
operator|.
name|tmatesoft
operator|.
name|svn
operator|.
name|core
operator|.
name|wc
operator|.
name|SVNRevision
import|;
end_import

begin_comment
comment|/**  * @version 1.3  * @author  TMate Software Ltd.  */
end_comment

begin_class
specifier|public
class|class
name|SVNEntry
block|{
specifier|private
name|Map
name|myAttributes
decl_stmt|;
specifier|private
name|SVNAdminArea
name|myAdminArea
decl_stmt|;
specifier|private
name|String
name|myName
decl_stmt|;
specifier|public
name|SVNEntry
parameter_list|(
name|Map
name|attributes
parameter_list|,
name|SVNAdminArea
name|adminArea
parameter_list|,
name|String
name|name
parameter_list|)
block|{
name|myAttributes
operator|=
name|attributes
expr_stmt|;
name|myName
operator|=
name|name
expr_stmt|;
name|myAdminArea
operator|=
name|adminArea
expr_stmt|;
if|if
condition|(
operator|!
name|myAttributes
operator|.
name|containsKey
argument_list|(
name|SVNProperty
operator|.
name|NAME
argument_list|)
condition|)
block|{
name|myAttributes
operator|.
name|put
argument_list|(
name|SVNProperty
operator|.
name|NAME
argument_list|,
name|name
argument_list|)
expr_stmt|;
block|}
block|}
specifier|public
name|boolean
name|equals
parameter_list|(
name|Object
name|obj
parameter_list|)
block|{
if|if
condition|(
name|obj
operator|==
literal|null
operator|||
name|obj
operator|.
name|getClass
argument_list|()
operator|!=
name|SVNEntry
operator|.
name|class
condition|)
block|{
return|return
literal|false
return|;
block|}
name|SVNEntry
name|entry
init|=
operator|(
name|SVNEntry
operator|)
name|obj
decl_stmt|;
return|return
name|entry
operator|.
name|myAttributes
operator|==
name|myAttributes
operator|&&
name|entry
operator|.
name|myName
operator|.
name|equals
argument_list|(
name|myName
argument_list|)
return|;
block|}
specifier|public
name|int
name|hashCode
parameter_list|()
block|{
return|return
name|myAttributes
operator|.
name|hashCode
argument_list|()
operator|+
literal|17
operator|*
name|myName
operator|.
name|hashCode
argument_list|()
return|;
block|}
specifier|public
name|boolean
name|isThisDir
parameter_list|()
block|{
if|if
condition|(
name|myAdminArea
operator|!=
literal|null
condition|)
block|{
return|return
name|myAdminArea
operator|.
name|getThisDirName
argument_list|()
operator|.
name|equals
argument_list|(
name|getName
argument_list|()
argument_list|)
return|;
block|}
return|return
literal|""
operator|.
name|equals
argument_list|(
name|getName
argument_list|()
argument_list|)
return|;
block|}
specifier|public
name|String
name|getURL
parameter_list|()
block|{
return|return
operator|(
name|String
operator|)
name|myAttributes
operator|.
name|get
argument_list|(
name|SVNProperty
operator|.
name|URL
argument_list|)
return|;
block|}
specifier|public
name|SVNURL
name|getSVNURL
parameter_list|()
throws|throws
name|SVNException
block|{
name|String
name|url
init|=
name|getURL
argument_list|()
decl_stmt|;
if|if
condition|(
name|url
operator|!=
literal|null
condition|)
block|{
return|return
name|SVNURL
operator|.
name|parseURIEncoded
argument_list|(
name|url
argument_list|)
return|;
block|}
return|return
literal|null
return|;
block|}
specifier|public
name|String
name|getName
parameter_list|()
block|{
return|return
name|myName
return|;
block|}
specifier|public
name|boolean
name|isDirectory
parameter_list|()
block|{
return|return
name|SVNProperty
operator|.
name|KIND_DIR
operator|.
name|equals
argument_list|(
name|myAttributes
operator|.
name|get
argument_list|(
name|SVNProperty
operator|.
name|KIND
argument_list|)
argument_list|)
return|;
block|}
specifier|public
name|long
name|getRevision
parameter_list|()
block|{
name|String
name|revStr
init|=
operator|(
name|String
operator|)
name|myAttributes
operator|.
name|get
argument_list|(
name|SVNProperty
operator|.
name|REVISION
argument_list|)
decl_stmt|;
if|if
condition|(
name|revStr
operator|!=
literal|null
condition|)
block|{
try|try
block|{
return|return
name|Long
operator|.
name|parseLong
argument_list|(
name|revStr
argument_list|)
return|;
block|}
catch|catch
parameter_list|(
name|NumberFormatException
name|nfe
parameter_list|)
block|{
comment|//
block|}
block|}
return|return
name|SVNRepository
operator|.
name|INVALID_REVISION
return|;
block|}
specifier|public
name|boolean
name|isScheduledForAddition
parameter_list|()
block|{
return|return
name|SVNProperty
operator|.
name|SCHEDULE_ADD
operator|.
name|equals
argument_list|(
name|myAttributes
operator|.
name|get
argument_list|(
name|SVNProperty
operator|.
name|SCHEDULE
argument_list|)
argument_list|)
return|;
block|}
specifier|public
name|boolean
name|isScheduledForDeletion
parameter_list|()
block|{
return|return
name|SVNProperty
operator|.
name|SCHEDULE_DELETE
operator|.
name|equals
argument_list|(
name|myAttributes
operator|.
name|get
argument_list|(
name|SVNProperty
operator|.
name|SCHEDULE
argument_list|)
argument_list|)
return|;
block|}
specifier|public
name|boolean
name|isScheduledForReplacement
parameter_list|()
block|{
return|return
name|SVNProperty
operator|.
name|SCHEDULE_REPLACE
operator|.
name|equals
argument_list|(
name|myAttributes
operator|.
name|get
argument_list|(
name|SVNProperty
operator|.
name|SCHEDULE
argument_list|)
argument_list|)
return|;
block|}
specifier|public
name|boolean
name|isHidden
parameter_list|()
block|{
return|return
operator|(
name|isDeleted
argument_list|()
operator|&&
operator|!
name|isScheduledForAddition
argument_list|()
operator|&&
operator|!
name|isScheduledForReplacement
argument_list|()
operator|)
operator|||
name|isAbsent
argument_list|()
operator|||
name|getDepth
argument_list|()
operator|==
name|SVNDepth
operator|.
name|EXCLUDE
return|;
block|}
specifier|public
name|boolean
name|isFile
parameter_list|()
block|{
return|return
name|SVNProperty
operator|.
name|KIND_FILE
operator|.
name|equals
argument_list|(
name|myAttributes
operator|.
name|get
argument_list|(
name|SVNProperty
operator|.
name|KIND
argument_list|)
argument_list|)
return|;
block|}
specifier|public
name|String
name|getLockToken
parameter_list|()
block|{
return|return
operator|(
name|String
operator|)
name|myAttributes
operator|.
name|get
argument_list|(
name|SVNProperty
operator|.
name|LOCK_TOKEN
argument_list|)
return|;
block|}
specifier|public
name|boolean
name|isDeleted
parameter_list|()
block|{
return|return
name|Boolean
operator|.
name|TRUE
operator|.
name|toString
argument_list|()
operator|.
name|equals
argument_list|(
name|myAttributes
operator|.
name|get
argument_list|(
name|SVNProperty
operator|.
name|DELETED
argument_list|)
argument_list|)
return|;
block|}
specifier|public
name|boolean
name|isAbsent
parameter_list|()
block|{
return|return
name|Boolean
operator|.
name|TRUE
operator|.
name|toString
argument_list|()
operator|.
name|equals
argument_list|(
name|myAttributes
operator|.
name|get
argument_list|(
name|SVNProperty
operator|.
name|ABSENT
argument_list|)
argument_list|)
return|;
block|}
specifier|public
name|String
name|toString
parameter_list|()
block|{
return|return
name|myName
return|;
block|}
specifier|private
name|boolean
name|setAttributeValue
parameter_list|(
name|String
name|name
parameter_list|,
name|String
name|value
parameter_list|)
block|{
if|if
condition|(
name|value
operator|==
literal|null
condition|)
block|{
return|return
name|myAttributes
operator|.
name|remove
argument_list|(
name|name
argument_list|)
operator|!=
literal|null
return|;
block|}
name|Object
name|oldValue
init|=
name|myAttributes
operator|.
name|put
argument_list|(
name|name
argument_list|,
name|value
argument_list|)
decl_stmt|;
return|return
operator|!
name|value
operator|.
name|equals
argument_list|(
name|oldValue
argument_list|)
return|;
block|}
specifier|public
name|boolean
name|setRevision
parameter_list|(
name|long
name|revision
parameter_list|)
block|{
return|return
name|setAttributeValue
argument_list|(
name|SVNProperty
operator|.
name|REVISION
argument_list|,
name|Long
operator|.
name|toString
argument_list|(
name|revision
argument_list|)
argument_list|)
return|;
block|}
specifier|public
name|boolean
name|setChangelistName
parameter_list|(
name|String
name|changelistName
parameter_list|)
block|{
return|return
name|setAttributeValue
argument_list|(
name|SVNProperty
operator|.
name|CHANGELIST
argument_list|,
name|changelistName
argument_list|)
return|;
block|}
specifier|public
name|String
name|getChangelistName
parameter_list|()
block|{
return|return
operator|(
name|String
operator|)
name|myAttributes
operator|.
name|get
argument_list|(
name|SVNProperty
operator|.
name|CHANGELIST
argument_list|)
return|;
block|}
specifier|public
name|boolean
name|setWorkingSize
parameter_list|(
name|long
name|size
parameter_list|)
block|{
if|if
condition|(
name|getKind
argument_list|()
operator|==
name|SVNNodeKind
operator|.
name|FILE
condition|)
block|{
return|return
name|setAttributeValue
argument_list|(
name|SVNProperty
operator|.
name|WORKING_SIZE
argument_list|,
name|Long
operator|.
name|toString
argument_list|(
name|size
argument_list|)
argument_list|)
return|;
block|}
return|return
literal|false
return|;
block|}
specifier|public
name|long
name|getWorkingSize
parameter_list|()
block|{
name|String
name|workingSize
init|=
operator|(
name|String
operator|)
name|myAttributes
operator|.
name|get
argument_list|(
name|SVNProperty
operator|.
name|WORKING_SIZE
argument_list|)
decl_stmt|;
if|if
condition|(
name|workingSize
operator|==
literal|null
condition|)
block|{
return|return
name|SVNProperty
operator|.
name|WORKING_SIZE_UNKNOWN
return|;
block|}
try|try
block|{
return|return
name|Long
operator|.
name|parseLong
argument_list|(
name|workingSize
argument_list|)
return|;
block|}
catch|catch
parameter_list|(
name|NumberFormatException
name|nfe
parameter_list|)
block|{
return|return
name|SVNProperty
operator|.
name|WORKING_SIZE_UNKNOWN
return|;
block|}
block|}
specifier|public
name|SVNDepth
name|getDepth
parameter_list|()
block|{
name|String
name|depthString
init|=
operator|(
name|String
operator|)
name|myAttributes
operator|.
name|get
argument_list|(
name|SVNProperty
operator|.
name|DEPTH
argument_list|)
decl_stmt|;
return|return
name|SVNDepth
operator|.
name|fromString
argument_list|(
name|depthString
argument_list|)
return|;
block|}
specifier|public
name|void
name|setDepth
parameter_list|(
name|SVNDepth
name|depth
parameter_list|)
block|{
name|setAttributeValue
argument_list|(
name|SVNProperty
operator|.
name|DEPTH
argument_list|,
name|depth
operator|.
name|getName
argument_list|()
argument_list|)
expr_stmt|;
block|}
specifier|public
name|boolean
name|setURL
parameter_list|(
name|String
name|url
parameter_list|)
block|{
return|return
name|setAttributeValue
argument_list|(
name|SVNProperty
operator|.
name|URL
argument_list|,
name|url
argument_list|)
return|;
block|}
specifier|public
name|void
name|setIncomplete
parameter_list|(
name|boolean
name|incomplete
parameter_list|)
block|{
name|setAttributeValue
argument_list|(
name|SVNProperty
operator|.
name|INCOMPLETE
argument_list|,
name|incomplete
condition|?
name|Boolean
operator|.
name|TRUE
operator|.
name|toString
argument_list|()
else|:
literal|null
argument_list|)
expr_stmt|;
block|}
specifier|public
name|boolean
name|isIncomplete
parameter_list|()
block|{
return|return
name|Boolean
operator|.
name|TRUE
operator|.
name|toString
argument_list|()
operator|.
name|equals
argument_list|(
name|myAttributes
operator|.
name|get
argument_list|(
name|SVNProperty
operator|.
name|INCOMPLETE
argument_list|)
argument_list|)
return|;
block|}
specifier|public
name|String
name|getConflictOld
parameter_list|()
block|{
return|return
operator|(
name|String
operator|)
name|myAttributes
operator|.
name|get
argument_list|(
name|SVNProperty
operator|.
name|CONFLICT_OLD
argument_list|)
return|;
block|}
specifier|public
name|void
name|setConflictOld
parameter_list|(
name|String
name|name
parameter_list|)
block|{
name|setAttributeValue
argument_list|(
name|SVNProperty
operator|.
name|CONFLICT_OLD
argument_list|,
name|name
argument_list|)
expr_stmt|;
block|}
specifier|public
name|String
name|getConflictNew
parameter_list|()
block|{
return|return
operator|(
name|String
operator|)
name|myAttributes
operator|.
name|get
argument_list|(
name|SVNProperty
operator|.
name|CONFLICT_NEW
argument_list|)
return|;
block|}
specifier|public
name|void
name|setConflictNew
parameter_list|(
name|String
name|name
parameter_list|)
block|{
name|setAttributeValue
argument_list|(
name|SVNProperty
operator|.
name|CONFLICT_NEW
argument_list|,
name|name
argument_list|)
expr_stmt|;
block|}
specifier|public
name|String
name|getConflictWorking
parameter_list|()
block|{
return|return
operator|(
name|String
operator|)
name|myAttributes
operator|.
name|get
argument_list|(
name|SVNProperty
operator|.
name|CONFLICT_WRK
argument_list|)
return|;
block|}
specifier|public
name|void
name|setConflictWorking
parameter_list|(
name|String
name|name
parameter_list|)
block|{
name|setAttributeValue
argument_list|(
name|SVNProperty
operator|.
name|CONFLICT_WRK
argument_list|,
name|name
argument_list|)
expr_stmt|;
block|}
specifier|public
name|String
name|getPropRejectFile
parameter_list|()
block|{
return|return
operator|(
name|String
operator|)
name|myAttributes
operator|.
name|get
argument_list|(
name|SVNProperty
operator|.
name|PROP_REJECT_FILE
argument_list|)
return|;
block|}
specifier|public
name|void
name|setPropRejectFile
parameter_list|(
name|String
name|name
parameter_list|)
block|{
name|setAttributeValue
argument_list|(
name|SVNProperty
operator|.
name|PROP_REJECT_FILE
argument_list|,
name|name
argument_list|)
expr_stmt|;
block|}
specifier|public
name|String
name|getAuthor
parameter_list|()
block|{
return|return
operator|(
name|String
operator|)
name|myAttributes
operator|.
name|get
argument_list|(
name|SVNProperty
operator|.
name|LAST_AUTHOR
argument_list|)
return|;
block|}
specifier|public
name|String
name|getCommittedDate
parameter_list|()
block|{
return|return
operator|(
name|String
operator|)
name|myAttributes
operator|.
name|get
argument_list|(
name|SVNProperty
operator|.
name|COMMITTED_DATE
argument_list|)
return|;
block|}
specifier|public
name|long
name|getCommittedRevision
parameter_list|()
block|{
name|String
name|rev
init|=
operator|(
name|String
operator|)
name|myAttributes
operator|.
name|get
argument_list|(
name|SVNProperty
operator|.
name|COMMITTED_REVISION
argument_list|)
decl_stmt|;
if|if
condition|(
name|rev
operator|==
literal|null
condition|)
block|{
return|return
name|SVNRepository
operator|.
name|INVALID_REVISION
return|;
block|}
try|try
block|{
return|return
name|Long
operator|.
name|parseLong
argument_list|(
name|rev
argument_list|)
return|;
block|}
catch|catch
parameter_list|(
name|NumberFormatException
name|nfe
parameter_list|)
block|{
return|return
name|SVNRepository
operator|.
name|INVALID_REVISION
return|;
block|}
block|}
specifier|public
name|void
name|setTextTime
parameter_list|(
name|String
name|time
parameter_list|)
block|{
name|setAttributeValue
argument_list|(
name|SVNProperty
operator|.
name|TEXT_TIME
argument_list|,
name|time
argument_list|)
expr_stmt|;
block|}
specifier|public
name|void
name|setKind
parameter_list|(
name|SVNNodeKind
name|kind
parameter_list|)
block|{
name|String
name|kindStr
init|=
name|kind
operator|==
name|SVNNodeKind
operator|.
name|DIR
condition|?
name|SVNProperty
operator|.
name|KIND_DIR
else|:
operator|(
name|kind
operator|==
name|SVNNodeKind
operator|.
name|FILE
condition|?
name|SVNProperty
operator|.
name|KIND_FILE
else|:
literal|null
operator|)
decl_stmt|;
name|setAttributeValue
argument_list|(
name|SVNProperty
operator|.
name|KIND
argument_list|,
name|kindStr
argument_list|)
expr_stmt|;
block|}
specifier|public
name|void
name|setAbsent
parameter_list|(
name|boolean
name|absent
parameter_list|)
block|{
name|setAttributeValue
argument_list|(
name|SVNProperty
operator|.
name|ABSENT
argument_list|,
name|absent
condition|?
name|Boolean
operator|.
name|TRUE
operator|.
name|toString
argument_list|()
else|:
literal|null
argument_list|)
expr_stmt|;
block|}
specifier|public
name|void
name|setDeleted
parameter_list|(
name|boolean
name|deleted
parameter_list|)
block|{
name|setAttributeValue
argument_list|(
name|SVNProperty
operator|.
name|DELETED
argument_list|,
name|deleted
condition|?
name|Boolean
operator|.
name|TRUE
operator|.
name|toString
argument_list|()
else|:
literal|null
argument_list|)
expr_stmt|;
block|}
specifier|public
name|SVNNodeKind
name|getKind
parameter_list|()
block|{
name|String
name|kind
init|=
operator|(
name|String
operator|)
name|myAttributes
operator|.
name|get
argument_list|(
name|SVNProperty
operator|.
name|KIND
argument_list|)
decl_stmt|;
if|if
condition|(
name|SVNProperty
operator|.
name|KIND_DIR
operator|.
name|equals
argument_list|(
name|kind
argument_list|)
condition|)
block|{
return|return
name|SVNNodeKind
operator|.
name|DIR
return|;
block|}
if|else if
condition|(
name|SVNProperty
operator|.
name|KIND_FILE
operator|.
name|equals
argument_list|(
name|kind
argument_list|)
condition|)
block|{
return|return
name|SVNNodeKind
operator|.
name|FILE
return|;
block|}
return|return
name|SVNNodeKind
operator|.
name|UNKNOWN
return|;
block|}
specifier|public
name|String
name|getTextTime
parameter_list|()
block|{
return|return
operator|(
name|String
operator|)
name|myAttributes
operator|.
name|get
argument_list|(
name|SVNProperty
operator|.
name|TEXT_TIME
argument_list|)
return|;
block|}
specifier|public
name|String
name|getChecksum
parameter_list|()
block|{
return|return
operator|(
name|String
operator|)
name|myAttributes
operator|.
name|get
argument_list|(
name|SVNProperty
operator|.
name|CHECKSUM
argument_list|)
return|;
block|}
specifier|public
name|void
name|setLockComment
parameter_list|(
name|String
name|comment
parameter_list|)
block|{
name|myAttributes
operator|.
name|put
argument_list|(
name|SVNProperty
operator|.
name|LOCK_COMMENT
argument_list|,
name|comment
argument_list|)
expr_stmt|;
block|}
specifier|public
name|void
name|setLockOwner
parameter_list|(
name|String
name|owner
parameter_list|)
block|{
name|setAttributeValue
argument_list|(
name|SVNProperty
operator|.
name|LOCK_OWNER
argument_list|,
name|owner
argument_list|)
expr_stmt|;
block|}
specifier|public
name|void
name|setLockCreationDate
parameter_list|(
name|String
name|date
parameter_list|)
block|{
name|setAttributeValue
argument_list|(
name|SVNProperty
operator|.
name|LOCK_CREATION_DATE
argument_list|,
name|date
argument_list|)
expr_stmt|;
block|}
specifier|public
name|void
name|setLockToken
parameter_list|(
name|String
name|token
parameter_list|)
block|{
name|setAttributeValue
argument_list|(
name|SVNProperty
operator|.
name|LOCK_TOKEN
argument_list|,
name|token
argument_list|)
expr_stmt|;
block|}
specifier|public
name|void
name|setUUID
parameter_list|(
name|String
name|uuid
parameter_list|)
block|{
name|setAttributeValue
argument_list|(
name|SVNProperty
operator|.
name|UUID
argument_list|,
name|uuid
argument_list|)
expr_stmt|;
block|}
specifier|public
name|void
name|unschedule
parameter_list|()
block|{
name|setAttributeValue
argument_list|(
name|SVNProperty
operator|.
name|SCHEDULE
argument_list|,
literal|null
argument_list|)
expr_stmt|;
block|}
specifier|public
name|void
name|scheduleForAddition
parameter_list|()
block|{
name|setAttributeValue
argument_list|(
name|SVNProperty
operator|.
name|SCHEDULE
argument_list|,
name|SVNProperty
operator|.
name|SCHEDULE_ADD
argument_list|)
expr_stmt|;
block|}
specifier|public
name|void
name|scheduleForDeletion
parameter_list|()
block|{
name|setAttributeValue
argument_list|(
name|SVNProperty
operator|.
name|SCHEDULE
argument_list|,
name|SVNProperty
operator|.
name|SCHEDULE_DELETE
argument_list|)
expr_stmt|;
block|}
specifier|public
name|void
name|scheduleForReplacement
parameter_list|()
block|{
name|setAttributeValue
argument_list|(
name|SVNProperty
operator|.
name|SCHEDULE
argument_list|,
name|SVNProperty
operator|.
name|SCHEDULE_REPLACE
argument_list|)
expr_stmt|;
block|}
specifier|public
name|void
name|setSchedule
parameter_list|(
name|String
name|schedule
parameter_list|)
block|{
name|setAttributeValue
argument_list|(
name|SVNProperty
operator|.
name|SCHEDULE
argument_list|,
name|schedule
argument_list|)
expr_stmt|;
block|}
specifier|public
name|void
name|setCopyFromRevision
parameter_list|(
name|long
name|revision
parameter_list|)
block|{
name|setAttributeValue
argument_list|(
name|SVNProperty
operator|.
name|COPYFROM_REVISION
argument_list|,
name|revision
operator|>=
literal|0
condition|?
name|Long
operator|.
name|toString
argument_list|(
name|revision
argument_list|)
else|:
literal|null
argument_list|)
expr_stmt|;
block|}
specifier|public
name|boolean
name|setCopyFromURL
parameter_list|(
name|String
name|url
parameter_list|)
block|{
return|return
name|setAttributeValue
argument_list|(
name|SVNProperty
operator|.
name|COPYFROM_URL
argument_list|,
name|url
argument_list|)
return|;
block|}
specifier|public
name|void
name|setCopied
parameter_list|(
name|boolean
name|copied
parameter_list|)
block|{
name|setAttributeValue
argument_list|(
name|SVNProperty
operator|.
name|COPIED
argument_list|,
name|copied
condition|?
name|Boolean
operator|.
name|TRUE
operator|.
name|toString
argument_list|()
else|:
literal|null
argument_list|)
expr_stmt|;
block|}
specifier|public
name|String
name|getCopyFromURL
parameter_list|()
block|{
return|return
operator|(
name|String
operator|)
name|myAttributes
operator|.
name|get
argument_list|(
name|SVNProperty
operator|.
name|COPYFROM_URL
argument_list|)
return|;
block|}
specifier|public
name|SVNURL
name|getCopyFromSVNURL
parameter_list|()
throws|throws
name|SVNException
block|{
name|String
name|url
init|=
name|getCopyFromURL
argument_list|()
decl_stmt|;
if|if
condition|(
name|url
operator|!=
literal|null
condition|)
block|{
return|return
name|SVNURL
operator|.
name|parseURIEncoded
argument_list|(
name|url
argument_list|)
return|;
block|}
return|return
literal|null
return|;
block|}
specifier|public
name|long
name|getCopyFromRevision
parameter_list|()
block|{
name|String
name|rev
init|=
operator|(
name|String
operator|)
name|myAttributes
operator|.
name|get
argument_list|(
name|SVNProperty
operator|.
name|COPYFROM_REVISION
argument_list|)
decl_stmt|;
if|if
condition|(
name|rev
operator|==
literal|null
condition|)
block|{
return|return
name|SVNRepository
operator|.
name|INVALID_REVISION
return|;
block|}
try|try
block|{
return|return
name|Long
operator|.
name|parseLong
argument_list|(
name|rev
argument_list|)
return|;
block|}
catch|catch
parameter_list|(
name|NumberFormatException
name|nfe
parameter_list|)
block|{
return|return
name|SVNRepository
operator|.
name|INVALID_REVISION
return|;
block|}
block|}
specifier|public
name|String
name|getPropTime
parameter_list|()
block|{
return|return
operator|(
name|String
operator|)
name|myAttributes
operator|.
name|get
argument_list|(
name|SVNProperty
operator|.
name|PROP_TIME
argument_list|)
return|;
block|}
specifier|public
name|void
name|setPropTime
parameter_list|(
name|String
name|time
parameter_list|)
block|{
name|setAttributeValue
argument_list|(
name|SVNProperty
operator|.
name|PROP_TIME
argument_list|,
name|time
argument_list|)
expr_stmt|;
block|}
specifier|public
name|boolean
name|isCopied
parameter_list|()
block|{
return|return
name|Boolean
operator|.
name|TRUE
operator|.
name|toString
argument_list|()
operator|.
name|equals
argument_list|(
name|myAttributes
operator|.
name|get
argument_list|(
name|SVNProperty
operator|.
name|COPIED
argument_list|)
argument_list|)
return|;
block|}
specifier|public
name|String
name|getUUID
parameter_list|()
block|{
return|return
operator|(
name|String
operator|)
name|myAttributes
operator|.
name|get
argument_list|(
name|SVNProperty
operator|.
name|UUID
argument_list|)
return|;
block|}
specifier|public
name|String
name|getRepositoryRoot
parameter_list|()
block|{
return|return
operator|(
name|String
operator|)
name|myAttributes
operator|.
name|get
argument_list|(
name|SVNProperty
operator|.
name|REPOS
argument_list|)
return|;
block|}
specifier|public
name|SVNURL
name|getRepositoryRootURL
parameter_list|()
throws|throws
name|SVNException
block|{
name|String
name|url
init|=
name|getRepositoryRoot
argument_list|()
decl_stmt|;
if|if
condition|(
name|url
operator|!=
literal|null
condition|)
block|{
return|return
name|SVNURL
operator|.
name|parseURIEncoded
argument_list|(
name|url
argument_list|)
return|;
block|}
return|return
literal|null
return|;
block|}
specifier|public
name|boolean
name|setRepositoryRoot
parameter_list|(
name|String
name|url
parameter_list|)
block|{
return|return
name|setAttributeValue
argument_list|(
name|SVNProperty
operator|.
name|REPOS
argument_list|,
name|url
argument_list|)
return|;
block|}
specifier|public
name|boolean
name|setRepositoryRootURL
parameter_list|(
name|SVNURL
name|url
parameter_list|)
block|{
return|return
name|setRepositoryRoot
argument_list|(
name|url
operator|==
literal|null
condition|?
literal|null
else|:
name|url
operator|.
name|toString
argument_list|()
argument_list|)
return|;
block|}
specifier|public
name|void
name|loadProperties
parameter_list|(
name|Map
name|entryProps
parameter_list|)
block|{
if|if
condition|(
name|entryProps
operator|==
literal|null
condition|)
block|{
return|return;
block|}
for|for
control|(
name|Iterator
name|propNames
init|=
name|entryProps
operator|.
name|keySet
argument_list|()
operator|.
name|iterator
argument_list|()
init|;
name|propNames
operator|.
name|hasNext
argument_list|()
condition|;
control|)
block|{
name|String
name|propName
init|=
operator|(
name|String
operator|)
name|propNames
operator|.
name|next
argument_list|()
decl_stmt|;
name|setAttributeValue
argument_list|(
name|propName
argument_list|,
operator|(
name|String
operator|)
name|entryProps
operator|.
name|get
argument_list|(
name|propName
argument_list|)
argument_list|)
expr_stmt|;
block|}
block|}
specifier|public
name|String
name|getLockOwner
parameter_list|()
block|{
return|return
operator|(
name|String
operator|)
name|myAttributes
operator|.
name|get
argument_list|(
name|SVNProperty
operator|.
name|LOCK_OWNER
argument_list|)
return|;
block|}
specifier|public
name|String
name|getLockComment
parameter_list|()
block|{
return|return
operator|(
name|String
operator|)
name|myAttributes
operator|.
name|get
argument_list|(
name|SVNProperty
operator|.
name|LOCK_COMMENT
argument_list|)
return|;
block|}
specifier|public
name|String
name|getLockCreationDate
parameter_list|()
block|{
return|return
operator|(
name|String
operator|)
name|myAttributes
operator|.
name|get
argument_list|(
name|SVNProperty
operator|.
name|LOCK_CREATION_DATE
argument_list|)
return|;
block|}
specifier|public
name|String
name|getSchedule
parameter_list|()
block|{
return|return
operator|(
name|String
operator|)
name|myAttributes
operator|.
name|get
argument_list|(
name|SVNProperty
operator|.
name|SCHEDULE
argument_list|)
return|;
block|}
specifier|public
name|void
name|setCachableProperties
parameter_list|(
name|String
index|[]
name|cachableProps
parameter_list|)
block|{
if|if
condition|(
name|cachableProps
operator|!=
literal|null
condition|)
block|{
name|myAttributes
operator|.
name|put
argument_list|(
name|SVNProperty
operator|.
name|CACHABLE_PROPS
argument_list|,
name|cachableProps
argument_list|)
expr_stmt|;
block|}
else|else
block|{
name|myAttributes
operator|.
name|remove
argument_list|(
name|SVNProperty
operator|.
name|CACHABLE_PROPS
argument_list|)
expr_stmt|;
block|}
block|}
specifier|public
name|void
name|setKeepLocal
parameter_list|(
name|boolean
name|keepLocal
parameter_list|)
block|{
name|setAttributeValue
argument_list|(
name|SVNProperty
operator|.
name|KEEP_LOCAL
argument_list|,
name|keepLocal
condition|?
name|Boolean
operator|.
name|TRUE
operator|.
name|toString
argument_list|()
else|:
literal|null
argument_list|)
expr_stmt|;
block|}
specifier|public
name|boolean
name|isKeepLocal
parameter_list|()
block|{
return|return
name|Boolean
operator|.
name|TRUE
operator|.
name|toString
argument_list|()
operator|.
name|equals
argument_list|(
name|myAttributes
operator|.
name|get
argument_list|(
name|SVNProperty
operator|.
name|KEEP_LOCAL
argument_list|)
argument_list|)
return|;
block|}
specifier|public
name|String
index|[]
name|getCachableProperties
parameter_list|()
block|{
return|return
operator|(
name|String
index|[]
operator|)
name|myAttributes
operator|.
name|get
argument_list|(
name|SVNProperty
operator|.
name|CACHABLE_PROPS
argument_list|)
return|;
block|}
specifier|public
name|String
index|[]
name|getPresentProperties
parameter_list|()
block|{
return|return
operator|(
name|String
index|[]
operator|)
name|myAttributes
operator|.
name|get
argument_list|(
name|SVNProperty
operator|.
name|PRESENT_PROPS
argument_list|)
return|;
block|}
specifier|public
name|String
name|getExternalFilePath
parameter_list|()
block|{
return|return
operator|(
name|String
operator|)
name|myAttributes
operator|.
name|get
argument_list|(
name|SVNProperty
operator|.
name|FILE_EXTERNAL_PATH
argument_list|)
return|;
block|}
specifier|public
name|SVNRevision
name|getExternalFileRevision
parameter_list|()
block|{
name|SVNRevision
name|revision
init|=
operator|(
name|SVNRevision
operator|)
name|myAttributes
operator|.
name|get
argument_list|(
name|SVNProperty
operator|.
name|FILE_EXTERNAL_REVISION
argument_list|)
decl_stmt|;
return|return
name|revision
return|;
block|}
specifier|public
name|SVNRevision
name|getExternalFilePegRevision
parameter_list|()
block|{
name|SVNRevision
name|pegRevision
init|=
operator|(
name|SVNRevision
operator|)
name|myAttributes
operator|.
name|get
argument_list|(
name|SVNProperty
operator|.
name|FILE_EXTERNAL_PEG_REVISION
argument_list|)
decl_stmt|;
return|return
name|pegRevision
return|;
block|}
specifier|public
name|String
name|getTreeConflictData
parameter_list|()
block|{
return|return
operator|(
name|String
operator|)
name|myAttributes
operator|.
name|get
argument_list|(
name|SVNProperty
operator|.
name|TREE_CONFLICT_DATA
argument_list|)
return|;
block|}
specifier|public
name|Map
name|getTreeConflicts
parameter_list|()
throws|throws
name|SVNException
block|{
name|String
name|conflictData
init|=
name|getTreeConflictData
argument_list|()
decl_stmt|;
return|return
name|SVNTreeConflictUtil
operator|.
name|readTreeConflicts
argument_list|(
name|getAdminArea
argument_list|()
operator|.
name|getRoot
argument_list|()
argument_list|,
name|conflictData
argument_list|)
return|;
block|}
specifier|public
name|void
name|setTreeConflictData
parameter_list|(
name|String
name|conflictData
parameter_list|)
block|{
name|setAttributeValue
argument_list|(
name|SVNProperty
operator|.
name|TREE_CONFLICT_DATA
argument_list|,
name|conflictData
argument_list|)
expr_stmt|;
block|}
specifier|public
name|void
name|setTreeConflicts
parameter_list|(
name|Map
name|treeConflicts
parameter_list|)
throws|throws
name|SVNException
block|{
name|String
name|conflictData
init|=
name|SVNTreeConflictUtil
operator|.
name|getTreeConflictData
argument_list|(
name|treeConflicts
argument_list|)
decl_stmt|;
name|setTreeConflictData
argument_list|(
name|conflictData
argument_list|)
expr_stmt|;
block|}
specifier|public
name|Map
name|asMap
parameter_list|()
block|{
return|return
name|myAttributes
return|;
block|}
specifier|public
name|SVNAdminArea
name|getAdminArea
parameter_list|()
block|{
return|return
name|myAdminArea
return|;
block|}
block|}
end_class

end_unit

