<installation version="1.0">
    <info>
        <appname>eXist</appname>
		<appversion>20040803-dev</appversion>
        <authors>
			<author email="wolfgang@exist-db.org" 
				name="Wolfgang Meier"/>
        </authors>
        <url>http://exist-db.org</url>
    </info>
	<guiprefs height="430" resizable="yes" width="640"/>
    <locale>
        <langpack iso3="eng"/>
    </locale>
    <resources>
    	<res id="Installer.image" src="installer/ilogo.jpg"/>
    	<res id="shortcutSpec.xml" src="installer/shortcutSpec.xml"/>
        <res id="XInfoPanel.info" src="installer/finished.txt"/>
    </resources>
    <native type="izpack" name="ShellLink.dll"/>
    <variables>
        <variable name="JETTY_HOME" value="$EXIST_HOME/Jetty-4.1.4"/>
    </variables>
    <panels>
        <panel classname="HelloPanel"/>
        <panel classname="PacksPanel"/>
        <panel classname="TargetPanel"/>
        <panel classname="InstallPanel"/>
        <panel classname="ShortcutPanel"/>
        <panel classname="XInfoPanel"/>
        <panel classname="FinishPanel"/>
    </panels>
    <packs>
        <pack name="core" required="yes">
            <description>Everything needed for the database core, including Jetty + Cocoon</description>
            <fileset targetdir="$INSTALL_PATH" dir=".">
                <include name="client.properties"/>
                <include name="backup.properties"/>
                <include name="conf.xml"/>
                <include name="log4j.xml"/>
                <include name="build.xml"/>
				<include name="build.properties"/>
            	<include name="LICENSE"/>
            	<include name="README"/>
				<include name="exist.jar"/>
				<include name="exist-optional.jar"/>
            	<include name="start.jar"/>
                <include name="examples.jar"/>
                <include name="examples-setup.xml"/>
                <include name="Jetty*/**"/>
            	<include name="lib/"/>
            	<include name="samples/**"/>
            	<include name="thirdparty/"/>
            	<exclude name="**/CVS/"/>
            	<exclude name="**/*~"/>
				<exclude name="**/*.log*"/>
				<exclude name="**/.*"/>
            </fileset>
			<fileset targetdir="$INSTALL_PATH/tools" dir="tools">
				<include name="**/*.jar"/>
			</fileset>
            <fileset targetdir="$INSTALL_PATH/webapp" dir="webapp">
            	<exclude name="**/*.dbx"/>
            	<exclude name="**/*.log*"/>
				<exclude name="api/**"/>
				<exclude name="**/CVS/"/>
				<exclude name="**/*~"/>
				<exclude name="resources/*.jpg"/>
            </fileset>
            <fileset targetdir="$INSTALL_PATH/webapp/WEB-INF"
                dir="webapp/WEB-INF">
                <include name="data/"/>
                <include name="logs/"/>
                <exclude name="**/*.dbx"/>
                <exclude name="**/CVS/"/>
                <exclude name="**/*.log"/>
            </fileset>
            <file src="installer/index.html" targetdir="$INSTALL_PATH"/>
            <file src="installer/icon.bmp" targetdir="$INSTALL_PATH"/>
            <fileset targetdir="$INSTALL_PATH/bin" dir="installer">
            	<include name="*.sh"/>
                <include name="*.bat"/>
                <exclude name="build.bat"/>
                <exclude name="build.sh"/>
            </fileset>
            <file src="installer/build.sh" targetdir="$INSTALL_PATH"/>
            <file src="installer/build.bat" targetdir="$INSTALL_PATH"/>
			<parsable type="shell" targetfile="$INSTALL_PATH/bin/client.sh"/>
			<parsable type="shell" targetfile="$INSTALL_PATH/bin/startup.sh"/>
			<parsable type="shell" targetfile="$INSTALL_PATH/bin/server.sh"/>
            <parsable type="shell" targetfile="$INSTALL_PATH/bin/shutdown.sh"/>
            <parsable type="shell" targetfile="$INSTALL_PATH/build.sh"/>
			<parsable targetfile="$INSTALL_PATH/bin/client.bat"/>
			<parsable targetfile="$INSTALL_PATH/bin/startup.bat"/>
			<parsable targetfile="$INSTALL_PATH/bin/server.bat"/>
            <parsable targetfile="$INSTALL_PATH/bin/shutdown.bat"/>
            <parsable targetfile="$INSTALL_PATH/build.bat"/>
			<executable targetfile="$INSTALL_PATH/bin/client.sh"
				stage="never" os="unix"/>
			<executable targetfile="$INSTALL_PATH/bin/startup.sh"
				stage="never" os="unix"/>
			<executable targetfile="$INSTALL_PATH/bin/server.sh"
				stage="never" os="unix"/>
			<executable targetfile="$INSTALL_PATH/bin/shutdown.sh"
                stage="never" os="unix"/>
            <executable targetfile="$INSTALL_PATH/build.sh"
                stage="never" os="unix"/>
        </pack>
        <pack name="sources" required="no">
            <description>Java source files</description>
            <fileset targetdir="$INSTALL_PATH/src" 
            	dir="src">
            	<exclude name="**/*~"/>
            	<exclude name="**/.*"/>
				<exclude name="**/CVS/"/>
				<exclude name=".*"/>
            </fileset>
        </pack>
        <pack name="javadoc" required="no">
        	<description>Generated Javadocs</description>
        	<fileset targetdir="$INSTALL_PATH/webapp/api"
        		dir="webapp/api">
        		<exclude name="**/CVS/"/>
        	</fileset>
        </pack>
    </packs>	
</installation>
